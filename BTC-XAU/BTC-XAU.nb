(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Wolfram 14.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       154,          7]
NotebookDataLength[     57949,       1171]
NotebookOptionsPosition[     57075,       1145]
NotebookOutlinePosition[     57472,       1161]
CellTagsIndexPosition[     57429,       1158]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["BTC price (USD) in ounces of Gold ", "Title",
 CellChangeTimes->{{3.926023308569791*^9, 3.926023308571842*^9}, {
  3.9260233537315702`*^9, 3.9260233757347517`*^9}, {3.92602405662719*^9, 
  3.926024085440996*^9}, {3.926093332259821*^9, 3.926093346715509*^9}, {
  3.926103473564667*^9, 3.9261034746877203`*^9}, {3.92618590265519*^9, 
  3.9261859220416393`*^9}, {3.926453747162169*^9, 3.9264537490680323`*^9}, {
  3.952446904247444*^9, 3.952446910176691*^9}, {3.952456418105392*^9, 
  3.9524564239143667`*^9}, {3.952528057990715*^9, 
  3.9525280725813513`*^9}},ExpressionUUID->"e80cee27-40fb-4de8-aadd-\
ab763ef324d7"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "\"\<Global`\>\"", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetDirectory", "[", 
   RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"Buttons", " ", "to", " ", 
    RowBox[{"hide", "/", "show"}], " ", "code"}], "*)"}], 
  RowBox[{
   RowBox[{
    RowBox[{"CloseAllInputsCells", "[", "]"}], ":=", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"nb", ",", "cells"}], "}"}], ",", 
      RowBox[{
       RowBox[{"nb", "=", 
        RowBox[{"EvaluationNotebook", "[", "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"cells", "=", 
        RowBox[{"Cells", "[", 
         RowBox[{"nb", ",", 
          RowBox[{"CellStyle", "->", "\"\<Input\>\""}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"SetOptions", "[", 
          RowBox[{"#", ",", 
           RowBox[{"CellOpen", "->", "False"}]}], "]"}], "&"}], "/@", 
        "cells"}], ";"}]}], "]"}]}], ";"}], "\[IndentingNewLine]"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"OpenAllInputsCells", "[", "]"}], ":=", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"nb", ",", "cells"}], "}"}], ",", 
      RowBox[{
       RowBox[{"nb", "=", 
        RowBox[{"EvaluationNotebook", "[", "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"cells", "=", 
        RowBox[{"Cells", "[", 
         RowBox[{"nb", ",", 
          RowBox[{"CellStyle", "->", "\"\<Input\>\""}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"SetOptions", "[", 
          RowBox[{"#", ",", 
           RowBox[{"CellOpen", "->", "True"}]}], "]"}], "&"}], "/@", 
        "cells"}], ";"}]}], "]"}]}], ";"}], "\[IndentingNewLine]"}], "\n", 
 RowBox[{"Row", "[", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"Button", "[", 
     RowBox[{"\"\<Hide Code\>\"", ",", 
      RowBox[{"SelectionEvaluate", "[", 
       RowBox[{"CloseAllInputsCells", "[", "]"}], "]"}]}], "]"}], ",", 
    RowBox[{"Button", "[", 
     RowBox[{"\"\<Show Code\>\"", ",", 
      RowBox[{"SelectionEvaluate", "[", 
       RowBox[{"OpenAllInputsCells", "[", "]"}], "]"}]}], "]"}]}], "}"}], 
  "]"}]}], "Input",
 CellOpen->False,
 CellChangeTimes->{{3.926104252000985*^9, 3.926104281231701*^9}, {
   3.926104311812336*^9, 3.9261044510384693`*^9}, {3.926104553946717*^9, 
   3.926104561030199*^9}, {3.926104601427572*^9, 3.926104610490177*^9}, 
   3.926105810837723*^9, {3.926106155457353*^9, 3.926106306297263*^9}, {
   3.92610656037186*^9, 3.926106562958413*^9}, {3.926106610350261*^9, 
   3.926106611223668*^9}, {3.9261084592476873`*^9, 3.926108509236771*^9}, {
   3.9261086943617*^9, 3.926108699847063*^9}, {3.926109203547082*^9, 
   3.926109238867244*^9}, {3.926109364248454*^9, 3.926109393213396*^9}, {
   3.9261094871886797`*^9, 3.9261095184035873`*^9}, {3.926109562653056*^9, 
   3.926109623095701*^9}, {3.926109683374778*^9, 3.926109700379759*^9}, {
   3.926109859206336*^9, 3.92610986787817*^9}, {3.926188629151389*^9, 
   3.926188664161387*^9}, {3.926189309481555*^9, 3.926189404586179*^9}, 
   3.926189931586179*^9, {3.926190019739454*^9, 3.92619003491089*^9}, {
   3.926190091243922*^9, 3.926190229292127*^9}, {3.926191781303092*^9, 
   3.926191796682922*^9}, {3.926191835534973*^9, 3.926191863757341*^9}, {
   3.92619193303052*^9, 3.926191974564766*^9}, {3.926369800949707*^9, 
   3.92636980304499*^9}, {3.926370786337678*^9, 3.926370978976664*^9}, {
   3.926371074924803*^9, 3.926371156641964*^9}, {3.926371289785094*^9, 
   3.926371338695156*^9}, {3.926371382244561*^9, 3.926371389034145*^9}, {
   3.926371801551454*^9, 3.926371814186254*^9}, {3.92645401270918*^9, 
   3.926454022280169*^9}, {3.926454071519158*^9, 3.926454072726646*^9}, 
   3.926454289286805*^9, {3.926882636651235*^9, 3.926882659426392*^9}, {
   3.926888343654386*^9, 3.9268883638594227`*^9}, {3.952446728614685*^9, 
   3.9524467347124243`*^9}, {3.952446844018119*^9, 3.952446861600758*^9}},
 CellLabel->
  "In[434]:=",ExpressionUUID->"14006091-21fb-46e0-9a46-e1fcba7cf712"],

Cell[BoxData[
 TemplateBox[{
   ButtonBox["\"Hide Code\"", ButtonFunction :> SelectionEvaluate[
      $CellContext`CloseAllInputsCells[]], Appearance -> Automatic, Evaluator -> 
    Automatic, Method -> "Preemptive"], 
   ButtonBox["\"Show Code\"", ButtonFunction :> SelectionEvaluate[
      $CellContext`OpenAllInputsCells[]], Appearance -> Automatic, Evaluator -> 
    Automatic, Method -> "Preemptive"]},
  "RowDefault"]], "Output",
 CellChangeTimes->{
  3.952446867614901*^9, 3.9524564800847397`*^9, 3.9524568362247353`*^9, 
   3.952457555538231*^9, 3.952458109022983*^9, 3.9524603246406393`*^9, 
   3.952528051060986*^9, 3.9525280825104837`*^9, 3.952699842526999*^9, 
   3.9528861965189047`*^9, 3.953056379804614*^9, 3.953143950269197*^9, 
   3.9531448719777*^9, 3.953145040124102*^9, 3.953148027232687*^9, 
   3.953150676171822*^9, 3.953150897629825*^9, 3.953153538074904*^9, 
   3.953207481286684*^9, 3.953285102283392*^9, 3.953285163048512*^9, 
   3.953665619079117*^9, 3.953666366650427*^9, 3.953666420061447*^9, 
   3.953666466946628*^9, 3.953668126373784*^9, 3.953668194794071*^9, 
   3.953668409880533*^9, 3.9536684534432793`*^9, 3.953668491671989*^9, 
   3.95366855001157*^9, 3.953668693144581*^9, 3.953668929568327*^9, 
   3.953668986252283*^9, 3.9536690240571527`*^9, 3.953669506960058*^9, 
   3.953669563452402*^9, {3.953670091297291*^9, 3.9536701140654507`*^9}, 
   3.953670278136483*^9, 3.953670390861226*^9, 3.9536704262167377`*^9, 
   3.953670608087501*^9, 3.953729742723693*^9, 3.9537411967845583`*^9, 
   3.9542633501847153`*^9, 3.9542729686256113`*^9, 3.954334880397641*^9, 
   3.9543350823557863`*^9, 3.954335209360549*^9, 3.954335681666689*^9, 
   3.9544343619148903`*^9, 3.9546054170063257`*^9, 3.9546058951269693`*^9, {
   3.954841231148365*^9, 3.954841246725028*^9}, 3.95484140855303*^9, 
   3.9551163312329273`*^9, 3.955116494303603*^9, 3.955483483755875*^9, 
   3.955700871023971*^9, 3.9557010107262497`*^9, 3.955701101803598*^9, 
   3.95570156779706*^9, 3.955701863835268*^9, 3.95632576236121*^9, 
   3.9564883509555883`*^9, 3.956488492387985*^9, 3.956695788704764*^9, 
   3.9567751708297243`*^9, 3.956833390974305*^9, 3.957388701561282*^9, 
   3.957667817646434*^9, 3.958140016582885*^9, 3.958544828329383*^9},
 CellLabel->
  "Out[438]=",ExpressionUUID->"6af8e54a-0f17-4c4d-a95a-da4fabe8042f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"FinPlot", "[", 
     RowBox[{"ts_", ",", "lbl_", ",", 
      RowBox[{"options_", ":", 
       RowBox[{"<|", "|>"}]}]}], "]"}], ":=", 
    RowBox[{"(", "\[IndentingNewLine]", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "defaults", ",", "monthslist", ",", "settings", ",", "tslist"}], 
        "}"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"tslist", "=", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"SameQ", "[", 
            RowBox[{
             RowBox[{"Head", "[", "ts", "]"}], ",", "List"}], "]"}], ",", 
           "ts", ",", 
           RowBox[{"List", "[", "ts", "]"}]}], "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"defaults", "=", 
         RowBox[{"<|", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"aspectratio", "->", 
            RowBox[{"1", "/", "3"}]}], "\[IndentingNewLine]", ",", 
           RowBox[{"colorscheme", "->", " ", "116"}], "\[IndentingNewLine]", ",", 
           RowBox[{"export", "->", "False"}], "\[IndentingNewLine]", ",", 
           RowBox[{"filling", " ", "->", " ", "None"}], "\[IndentingNewLine]",
            ",", 
           RowBox[{"fillingstyle", " ", "->", " ", "Automatic"}], 
           "\[IndentingNewLine]", ",", 
           RowBox[{"framemargins", "->", "None"}], "\[IndentingNewLine]", ",", 
           RowBox[{"gridlinesx", "->", "Automatic"}], "\[IndentingNewLine]", ",", 
           RowBox[{"gridlinesy", "->", "Automatic"}], "\[IndentingNewLine]", ",", 
           RowBox[{"imagemargins", "->", "20"}], "\[IndentingNewLine]", ",", 
           RowBox[{"imagesize", "->", "1000"}], "\[IndentingNewLine]", ",", 
           RowBox[{"joined", "->", "True"}], "\[IndentingNewLine]", ",", 
           RowBox[{"labelstyle", "->", 
            RowBox[{"{", "14", "}"}]}], "\[IndentingNewLine]", ",", 
           RowBox[{"normalize", "->", "False"}], "\[IndentingNewLine]", ",", 
           RowBox[{"origindate", "->", "\"\<Sep. 14, 2011\>\""}], 
           "\[IndentingNewLine]", ",", 
           RowBox[{"background", "->", "White"}], "\[IndentingNewLine]", ",", 
           
           RowBox[{"plotfunction", "->", "DateListPlot"}], 
           "\[IndentingNewLine]", ",", 
           RowBox[{"plotfunctions", "->", 
            RowBox[{"{", "}"}]}], " ", 
           RowBox[{"(*", " ", "future", " ", "*)"}], "\[IndentingNewLine]", ",", 
           RowBox[{"plotrange", "->", "Full"}], "\[IndentingNewLine]", ",", 
           RowBox[{"rangestyle", "->", 
            RowBox[{"{", "20", "}"}]}], "\[IndentingNewLine]", ",", 
           RowBox[{"subtitlestyle", "->", 
            RowBox[{"{", "15", "}"}]}], "\[IndentingNewLine]", ",", 
           RowBox[{"summarystyle", "->", 
            RowBox[{"{", "20", "}"}]}], "\[IndentingNewLine]", ",", 
           RowBox[{"ticksstyle", "->", 
            RowBox[{"{", "16", "}"}]}], "\[IndentingNewLine]", ",", 
           RowBox[{"titlestyle", "->", 
            RowBox[{"{", 
             RowBox[{"20", ",", "Blue"}], "}"}]}], "\[IndentingNewLine]", ",", 
           RowBox[{"monthsinitial", "->", "144"}]}], "\[IndentingNewLine]", 
          "|>"}]}], ";", "\[IndentingNewLine]", 
        RowBox[{"settings", " ", "=", " ", 
         RowBox[{"Merge", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"defaults", ",", "options"}], "}"}], ",", "Last"}], 
          "]"}]}], ";", "\[IndentingNewLine]", 
        RowBox[{"monthslist", "=", 
         RowBox[{"Reverse", "[", "\[IndentingNewLine]", 
          RowBox[{"Join", "[", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"1", ",", "2", ",", "3", ",", " ", "6", ",", " ", "9"}], 
             "}"}], "\[IndentingNewLine]", ",", 
            RowBox[{"Range", "[", 
             RowBox[{"12", ",", 
              RowBox[{
               RowBox[{
                RowBox[{"DateDifference", "[", 
                 RowBox[{
                  RowBox[{"settings", "[", "origindate", "]"}], ",", "Now", 
                  ",", "\"\<Month\>\""}], "]"}], "//", "IntegerPart"}], "//", 
               "QuantityMagnitude"}], ",", "6"}], "]"}]}], 
           "\[IndentingNewLine]", "]"}], "\[IndentingNewLine]", "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"plot", "=", 
         RowBox[{"Manipulate", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Module", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
              "tsx", ",", " ", "tsxunnormalized", ",", "filename", ",", " ", 
               "plot", ",", " ", "updatedstr"}], "}"}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"updatedstr", "=", 
               RowBox[{"Style", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{
                  "StringTemplate", "[", "\"\<(updated: ``)\>\"", "]"}], "[", 
                  
                  RowBox[{"DateString", "[", "]"}], "]"}], ",", 
                 RowBox[{"settings", "[", "subtitlestyle", "]"}]}], "]"}]}], ";",
               "\[IndentingNewLine]", 
              RowBox[{"tsxunnormalized", "=", 
               RowBox[{
                RowBox[{
                 RowBox[{"TimeSeriesWindow", "[", 
                  RowBox[{"#", ",", 
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"Today", "-", 
                    RowBox[{"Quantity", "[", 
                    RowBox[{"x", ",", "\"\<Months\>\""}], "]"}]}], ",", 
                    "Today"}], "}"}]}], "]"}], "&"}], "/@", "tslist"}]}], ";",
               "\[IndentingNewLine]", 
              RowBox[{"tsx", "=", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"settings", "[", "normalize", "]"}], 
                 "\[IndentingNewLine]", ",", 
                 RowBox[{
                  RowBox[{
                   FractionBox[
                    RowBox[{"#", " ", "*", " ", "100"}], 
                    RowBox[{"#", "[", "\"\<FirstValue\>\"", "]"}]], "&"}], "/@",
                   "tsxunnormalized"}], "\[IndentingNewLine]", ",", 
                 "tsxunnormalized"}], "\[IndentingNewLine]", "]"}]}], ";", 
              "\[IndentingNewLine]", 
              RowBox[{"Column", "[", 
               RowBox[{
                RowBox[{"{", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"Column", "[", "\[IndentingNewLine]", 
                   RowBox[{"MapIndexed", "[", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"Row", "[", 
                    RowBox[{"{", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"Style", "[", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"Row", "[", 
                    RowBox[{
                    RowBox[{"{", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"Style", "[", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"ToString", "[", "\[IndentingNewLine]", 
                    RowBox[{"PercentForm", "[", "\[IndentingNewLine]", 
                    RowBox[{
                    FractionBox[
                    RowBox[{
                    RowBox[{"#", "[", "\"\<LastValue\>\"", "]"}], "-", 
                    RowBox[{"#", "[", "\"\<FirstValue\>\"", "]"}]}], 
                    RowBox[{"#", "[", "\"\<FirstValue\>\"", "]"}]], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"NumberSeparator", "->", "\"\<,\>\""}], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"DigitBlock", "->", "3"}]}], 
                    "\[IndentingNewLine]", "]"}], "\[IndentingNewLine]", 
                    "]"}], "\[IndentingNewLine]", ",", 
                    RowBox[{"{", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"If", "[", " ", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"#", "[", "\"\<LastValue\>\"", "]"}], ">", 
                    RowBox[{"#", "[", "\"\<FirstValue\>\"", "]"}]}], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"Darker", "[", "Green", "]"}], 
                    "\[IndentingNewLine]", ",", "Red"}], 
                    "\[IndentingNewLine]", "]"}], "\[IndentingNewLine]", ",", 
                    "Bold"}], "\[IndentingNewLine]", "}"}]}], 
                    "\[IndentingNewLine]", "]"}], "\[IndentingNewLine]", ",", 
                    
                    RowBox[{"\"\<Latest: \>\"", " ", "<>", " ", 
                    RowBox[{"ToString", "[", 
                    RowBox[{
                    RowBox[{"#", "[", "\"\<LastValue\>\"", "]"}], "//", 
                    "QuantityMagnitude"}], "]"}]}], "\[IndentingNewLine]", ",", 
                    RowBox[{"\"\<ATH: \>\"", " ", "<>", " ", 
                    RowBox[{"ToString", "[", 
                    RowBox[{
                    RowBox[{"Max", "[", "#", "]"}], "//", 
                    "QuantityMagnitude"}], "]"}]}]}], "\[IndentingNewLine]", 
                    "}"}], "\[IndentingNewLine]", ",", 
                    RowBox[{"Spacer", "[", "20", "]"}]}], 
                    "\[IndentingNewLine]", "]"}], "\[IndentingNewLine]", ",", 
                    
                    RowBox[{"Join", "[", 
                    RowBox[{
                    RowBox[{"settings", "[", "summarystyle", "]"}], ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"ColorData", "[", 
                    RowBox[{
                    RowBox[{"settings", "[", "colorscheme", "]"}], 
                    ",", "\"\<ColorList\>\""}], "]"}], "[", 
                    RowBox[{"[", 
                    RowBox[{"First", "[", "#2", "]"}], "]"}], "]"}], "}"}]}], 
                    "]"}]}], "\[IndentingNewLine]", "]"}], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"Spacer", "[", "60", "]"}], "\[IndentingNewLine]",
                     ",", 
                    RowBox[{"Style", "[", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"Row", "[", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"{", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"\"\<Min: \>\"", " ", "<>", " ", 
                    RowBox[{"ToString", "[", 
                    RowBox[{
                    RowBox[{"#", "//", "Min"}], "//", "QuantityMagnitude"}], 
                    "]"}]}], "\[IndentingNewLine]", ",", 
                    RowBox[{"\"\<Mean: \>\"", " ", "<>", " ", 
                    RowBox[{"ToString", "[", 
                    RowBox[{
                    RowBox[{"#", "//", "Mean"}], "//", "QuantityMagnitude"}], 
                    "]"}]}], " ", "\[IndentingNewLine]", ",", " ", 
                    RowBox[{"\"\<Max: \>\"", " ", "<>", " ", 
                    RowBox[{"ToString", "[", 
                    RowBox[{
                    RowBox[{"#", "//", "Max"}], "//", "QuantityMagnitude"}], 
                    "]"}]}]}], "\[IndentingNewLine]", "}"}], ",", 
                    RowBox[{"Spacer", "[", "20", "]"}]}], "]"}], ",", 
                    RowBox[{"Join", "[", 
                    RowBox[{
                    RowBox[{"settings", "[", "rangestyle", "]"}], ",", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"ColorData", "[", 
                    RowBox[{
                    RowBox[{"settings", "[", "colorscheme", "]"}], 
                    ",", "\"\<ColorList\>\""}], "]"}], "[", 
                    RowBox[{"[", 
                    RowBox[{"First", "[", "#2", "]"}], "]"}], "]"}], "}"}]}], 
                    "]"}]}], "\[IndentingNewLine]", "]"}]}], 
                    "\[IndentingNewLine]", "}"}], "]"}], "&"}], 
                    "\[IndentingNewLine]", ",", "tsx"}], 
                    "\[IndentingNewLine]", "]"}], "\[IndentingNewLine]", 
                   "]"}], ",", "\[IndentingNewLine]", 
                  RowBox[{
                   RowBox[{"settings", "[", "plotfunction", "]"}], "[", 
                   "\[IndentingNewLine]", 
                   RowBox[{"tsx", "\[IndentingNewLine]", ",", 
                    RowBox[{"AspectRatio", "\[Rule]", 
                    RowBox[{"settings", "[", "aspectratio", "]"}]}], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"Background", "->", 
                    RowBox[{"settings", "[", "background", "]"}]}], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"ImageMargins", "->", 
                    RowBox[{"settings", "[", "imagemargins", "]"}]}], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"ImageSize", "->", " ", 
                    RowBox[{"settings", "[", "imagesize", "]"}]}], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"Filling", "\[Rule]", 
                    RowBox[{"settings", "[", "filling", "]"}]}], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"FillingStyle", "\[Rule]", 
                    RowBox[{"settings", "[", "fillingstyle", "]"}]}], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"FrameTicksStyle", "\[Rule]", 
                    RowBox[{"settings", "[", "ticksstyle", "]"}]}], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"FrameTicks", "->", "All"}], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"GridLines", "->", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"settings", "[", "gridlinesx", "]"}], ",", 
                    RowBox[{"settings", "[", "gridlinesy", "]"}]}], "}"}]}], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"Joined", "->", " ", 
                    RowBox[{"settings", "[", "joined", "]"}]}], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"LabelStyle", "->", 
                    RowBox[{"settings", "[", "labelstyle", "]"}]}], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"PlotLabel", "->", 
                    RowBox[{"Column", "[", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"{", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"Style", "[", 
                    RowBox[{"lbl", ",", 
                    RowBox[{"settings", "[", "titlestyle", "]"}]}], "]"}], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"Style", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"ToString", "[", "x", "]"}], " ", "<>", 
                    " ", "\"\< months\>\""}], ",", 
                    RowBox[{"settings", "[", "titlestyle", "]"}]}], "]"}], 
                    "\[IndentingNewLine]", ",", "updatedstr"}], 
                    "\[IndentingNewLine]", "}"}], "\[IndentingNewLine]", ",", 
                    "Center"}], "\[IndentingNewLine]", "]"}]}], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"PlotRange", "->", 
                    RowBox[{"settings", "[", "plotrange", "]"}]}], 
                    "\[IndentingNewLine]", ",", 
                    RowBox[{"PlotStyle", "->", 
                    RowBox[{"ColorData", "[", 
                    RowBox[{"settings", "[", "colorscheme", "]"}], "]"}]}]}], 
                   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
                 "}"}], "\[IndentingNewLine]", ",", 
                RowBox[{"Background", "->", 
                 RowBox[{"settings", "[", "background", "]"}]}]}], 
               "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", "]"}],
            "\[IndentingNewLine]", ",", " ", 
           RowBox[{"{", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"x", "\[IndentingNewLine]", ",", 
               RowBox[{"settings", "[", "monthsinitial", "]"}], 
               "\[IndentingNewLine]", ",", "\"\<Months: \>\""}], 
              "\[IndentingNewLine]", "}"}], "\[IndentingNewLine]", ",", " ", 
             "monthslist"}], "\[IndentingNewLine]", "}"}], 
           "\[IndentingNewLine]", ",", 
           RowBox[{"LabelStyle", "->", 
            RowBox[{"settings", "[", "labelstyle", "]"}]}], 
           "\[IndentingNewLine]", ",", 
           RowBox[{"FrameMargins", "->", 
            RowBox[{"settings", "[", "framemargins", "]"}]}]}], 
          "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"settings", "[", "export", "]"}], "\[IndentingNewLine]", ",", 
          RowBox[{
           RowBox[{"Export", "[", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{
              RowBox[{"NotebookDirectory", "[", "]"}], "<>", 
              RowBox[{"StringReplace", "[", 
               RowBox[{"lbl", ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"\"\< \>\"", "->", "\"\<-\>\""}], ",", 
                  RowBox[{"\"\<(\>\"", "->", "\"\<\>\""}], ",", 
                  RowBox[{"\"\<)\>\"", "->", "\"\<\>\""}]}], "}"}]}], "]"}], 
              "<>", "\"\<.jpg\>\""}], "\[IndentingNewLine]", ",", "plot"}], 
            "\[IndentingNewLine]", "]"}], ";"}]}], "\[IndentingNewLine]", 
         "]"}], ";", "\[IndentingNewLine]", 
        RowBox[{"(*", " ", 
         RowBox[{"finally", " ", "emit", " ", "the", " ", "plot"}], " ", 
         "*)"}], "\[IndentingNewLine]", "plot"}]}], "\[IndentingNewLine]", 
      "]"}], ")"}]}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"btcusd", " ", "=", 
   RowBox[{"FinancialData", "[", 
    RowBox[{"\"\<BTC/USD\>\"", ",", "\"\<Sep. 14, 2011\>\""}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"btcplot", "=", 
   RowBox[{"FinPlot", "[", 
    RowBox[{"btcusd", ",", "\"\<BTC price (USD)\>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"xauusd", " ", "=", 
   RowBox[{"FinancialData", "[", 
    RowBox[{"\"\<XAU/USD\>\"", ",", "\"\<Sep. 14, 2011\>\""}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"xauusdplot", "=", 
   RowBox[{"FinPlot", "[", 
    RowBox[{"xauusd", ",", "\"\<Gold price (USD)\>\"", ",", 
     RowBox[{"<|", 
      RowBox[{"export", "->", "True"}], "|>"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"btcxau", "=", 
   RowBox[{"FinancialData", "[", 
    RowBox[{"\"\<BTC/XAU\>\"", ",", "\"\<Sep. 14, 2011\>\""}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"xauplot", "=", 
    RowBox[{"FinPlot", "[", 
     RowBox[{"btcxau", ",", "\"\<BTC price to Gold price\>\"", ",", 
      RowBox[{"<|", 
       RowBox[{"export", "->", "True"}], "|>"}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"intermediate", "=", 
     RowBox[{
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"#", "[", 
          RowBox[{"[", "1", "]"}], "]"}], ",", 
         RowBox[{"#", "[", 
          RowBox[{"[", "2", "]"}], "]"}], ",", 
         RowBox[{"UnitConvert", "[", 
          RowBox[{
           RowBox[{"Today", "-", 
            RowBox[{"#", "[", 
             RowBox[{"[", "1", "]"}], "]"}]}], ",", "\"\<Years\>\""}], "]"}], 
         ",", 
         RowBox[{"1", "+", 
          FractionBox[
           RowBox[{"price", " ", "-", " ", 
            RowBox[{"#", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], 
           RowBox[{"#", "[", 
            RowBox[{"[", "2", "]"}], "]"}]]}]}], "}"}], "&"}], "/@", 
      RowBox[{"Normal", "[", "btcxau", "]"}]}]}], ";", "\n", 
    RowBox[{"roi", "=", 
     RowBox[{"Dataset", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", "1", "]"}], "]"}], ",", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"#", "[", 
              RowBox[{"[", "4", "]"}], "]"}], "^", 
             RowBox[{"(", 
              RowBox[{"1", "/", 
               RowBox[{"QuantityMagnitude", "[", 
                RowBox[{"#", "[", 
                 RowBox[{"[", "3", "]"}], "]"}], "]"}]}], ")"}]}], ")"}], "-",
            "1"}]}], "}"}], "&"}], "/@", " ", 
       RowBox[{"Drop", "[", 
        RowBox[{"intermediate", ",", 
         RowBox[{"-", "1"}]}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"btcxauroi", " ", "=", " ", 
     RowBox[{"Drop", "[", 
      RowBox[{"roi", ",", 
       RowBox[{"-", "180"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"btcxauroiplot", "=", 
     RowBox[{"FinPlot", "[", 
      RowBox[{"btcxauroi", ",", "\"\<BTC-XAU ROI\>\""}], "]"}]}], ";"}], 
   "*)"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"Column", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
    "btcplot", "\[IndentingNewLine]", ",", "xauusdplot", 
     "\[IndentingNewLine]", ",", " ", "xauplot"}], "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{",", " ", "btcxauroiplot"}], "*)"}], "\[IndentingNewLine]", 
    "}"}], "\[IndentingNewLine]", ",", "Center"}], "\[IndentingNewLine]", 
  "]"}]}], "Input",
 CellOpen->False,
 CellChangeTimes->{{3.926104252000985*^9, 3.926104281231701*^9}, {
   3.926104311812336*^9, 3.9261044510384693`*^9}, {3.926104553946717*^9, 
   3.926104561030199*^9}, {3.926104601427572*^9, 3.926104610490177*^9}, 
   3.926105810837723*^9, {3.926106155457353*^9, 3.926106306297263*^9}, {
   3.92610656037186*^9, 3.926106562958413*^9}, {3.926106610350261*^9, 
   3.926106611223668*^9}, {3.9261084592476873`*^9, 3.926108509236771*^9}, {
   3.9261086943617*^9, 3.926108699847063*^9}, {3.926109203547082*^9, 
   3.926109238867244*^9}, {3.926109364248454*^9, 3.926109393213396*^9}, {
   3.9261094871886797`*^9, 3.9261095184035873`*^9}, {3.926109562653056*^9, 
   3.926109623095701*^9}, {3.926109683374778*^9, 3.926109700379759*^9}, {
   3.926109859206336*^9, 3.92610986787817*^9}, {3.926188629151389*^9, 
   3.926188664161387*^9}, {3.926189309481555*^9, 3.926189404586179*^9}, 
   3.926189931586179*^9, {3.926190019739454*^9, 3.92619003491089*^9}, {
   3.926190091243922*^9, 3.926190229292127*^9}, {3.926191781303092*^9, 
   3.926191796682922*^9}, {3.926191835534973*^9, 3.926191863757341*^9}, {
   3.92619193303052*^9, 3.926191974564766*^9}, {3.926369800949707*^9, 
   3.92636980304499*^9}, {3.926370786337678*^9, 3.926370978976664*^9}, {
   3.926371074924803*^9, 3.926371156641964*^9}, {3.926371289785094*^9, 
   3.926371338695156*^9}, {3.926371382244561*^9, 3.926371389034145*^9}, {
   3.926371801551454*^9, 3.926371814186254*^9}, {3.92645401270918*^9, 
   3.926454022280169*^9}, {3.926454071519158*^9, 3.926454072726646*^9}, 
   3.926454289286805*^9, {3.926882636651235*^9, 3.926882659426392*^9}, {
   3.926888343654386*^9, 3.9268883638594227`*^9}, {3.952446728614685*^9, 
   3.9524467347124243`*^9}, {3.952446844018119*^9, 3.952446861600758*^9}, {
   3.952446926953251*^9, 3.9524469860592957`*^9}, {3.952447059504593*^9, 
   3.95244706882583*^9}, {3.952447108277382*^9, 3.9524471151653357`*^9}, {
   3.952447258781312*^9, 3.952447259750098*^9}, {3.952447312432241*^9, 
   3.952447357444745*^9}, {3.952447546766831*^9, 3.95244760214671*^9}, {
   3.952447795726618*^9, 3.952447796144129*^9}, {3.952447872956262*^9, 
   3.952447874486718*^9}, {3.952447912510089*^9, 3.952447924492119*^9}, {
   3.952447966138659*^9, 3.9524480237835903`*^9}, {3.952448061515235*^9, 
   3.952448078267148*^9}, {3.9524566086854963`*^9, 3.952456630953299*^9}, {
   3.952456675791904*^9, 3.9524567012063923`*^9}, {3.952456732295424*^9, 
   3.9524567678523693`*^9}, 3.9524568028050013`*^9, {3.952456967798615*^9, 
   3.9524569702543907`*^9}, {3.952457099140026*^9, 3.95245712252528*^9}, {
   3.952457165791066*^9, 3.952457266623212*^9}, {3.952457327003092*^9, 
   3.952457428186534*^9}, {3.952457473615986*^9, 3.95245752103961*^9}, {
   3.9524580849650717`*^9, 3.952458091486883*^9}, {3.952458146840315*^9, 
   3.952458164217518*^9}, {3.9524584969435673`*^9, 3.952458502156067*^9}, {
   3.952459757675508*^9, 3.95245988543277*^9}, {3.95246015727767*^9, 
   3.952460163712906*^9}, {3.952460210946205*^9, 3.952460222265772*^9}, 
   3.952460275090103*^9, {3.9527000563016443`*^9, 3.952700129745454*^9}, 
   3.952700167160305*^9, {3.952888497351879*^9, 3.9528885263235493`*^9}, {
   3.9528888205626993`*^9, 3.952888828843718*^9}, {3.952888968063587*^9, 
   3.9528889944782124`*^9}, {3.952889031427175*^9, 3.952889081153842*^9}, {
   3.952889120063002*^9, 3.9528891545088453`*^9}, {3.952889196436792*^9, 
   3.952889268017848*^9}, {3.9528893231978188`*^9, 3.952889329086198*^9}, {
   3.952889473227623*^9, 3.952889489077791*^9}, {3.952889558918879*^9, 
   3.9528895817255096`*^9}, {3.952889626981695*^9, 3.952889748709886*^9}, {
   3.952889790582436*^9, 3.952889862337656*^9}, {3.953144086981701*^9, 
   3.95314409194276*^9}, {3.953144143349642*^9, 3.9531441553831997`*^9}, {
   3.953144296275422*^9, 3.953144622583562*^9}, {3.95314470570119*^9, 
   3.9531447594044456`*^9}, {3.953144827888645*^9, 3.953144861824959*^9}, 
   3.953145110516129*^9, 3.953145147803143*^9, 3.95314951745627*^9, {
   3.953149609693894*^9, 3.953149616272319*^9}, {3.9531499142393017`*^9, 
   3.953149984302759*^9}, {3.953150065213229*^9, 3.95315007777754*^9}, {
   3.9531539233570423`*^9, 3.9531539286196012`*^9}, {3.953207426595636*^9, 
   3.953207472852116*^9}, {3.9532851515561743`*^9, 3.953285153636491*^9}, {
   3.95366631237228*^9, 3.953666348467657*^9}, {3.9536664072261763`*^9, 
   3.95366645590489*^9}, {3.953667974150857*^9, 3.953668046138537*^9}, {
   3.953668083443245*^9, 3.9536681153620462`*^9}, {3.9536681892197733`*^9, 
   3.953668191038905*^9}, {3.953668380592616*^9, 3.953668403319241*^9}, {
   3.95366844393438*^9, 3.95366846844452*^9}, {3.953668509823403*^9, 
   3.953668534146096*^9}, {3.953668677288554*^9, 3.953668687688534*^9}, 
   3.953668736374968*^9, {3.9536688428111973`*^9, 3.95366892089808*^9}, {
   3.953668955718031*^9, 3.953668968136257*^9}, 3.953669007345511*^9, {
   3.953669324948183*^9, 3.953669339929853*^9}, {3.953669424407102*^9, 
   3.953669500558165*^9}, {3.953669546416691*^9, 3.953669558343807*^9}, {
   3.953670040405519*^9, 3.9536701053487167`*^9}, {3.953670270533207*^9, 
   3.95367027287297*^9}, {3.9536704175714397`*^9, 3.9536704198658447`*^9}, {
   3.9537409432112837`*^9, 3.953740958502689*^9}, {3.953741164904656*^9, 
   3.9537411866911297`*^9}, {3.954335053730435*^9, 3.95433507210441*^9}, {
   3.95433513387385*^9, 3.954335170434587*^9}, {3.954335662017109*^9, 
   3.954335675862197*^9}, {3.954605373393569*^9, 3.9546054071492443`*^9}, {
   3.954605498029541*^9, 3.954605500641457*^9}, {3.954841365709488*^9, 
   3.954841397039557*^9}, {3.95484153991761*^9, 3.95484158710316*^9}, {
   3.954841635564221*^9, 3.954841726288213*^9}, {3.955116452885983*^9, 
   3.9551164882021008`*^9}, 3.95570099279097*^9, 3.955701561383847*^9, {
   3.9557018535365*^9, 3.955701854937817*^9}},
 CellLabel->
  "In[439]:=",ExpressionUUID->"33df2f7b-054e-4fe7-8633-eec369172053"],

Cell[BoxData[
 TagBox[GridBox[{
    {
     TagBox[
      StyleBox[
       DynamicModuleBox[{$CellContext`x$$ = 144, Typeset`show$$ = True, 
        Typeset`bookmarkList$$ = {}, Typeset`bookmarkMode$$ = "Menu", 
        Typeset`animator$$, Typeset`animvar$$ = 1, Typeset`name$$ = 
        "\"untitled\"", Typeset`specs$$ = {{{
           Hold[$CellContext`x$$], 144, "Months: "}, {162, 156, 150, 144, 138,
           132, 126, 120, 114, 108, 102, 96, 90, 84, 78, 72, 66, 60, 54, 48, 
          42, 36, 30, 24, 18, 12, 9, 6, 3, 2, 1}, ControlType -> PopupMenu}}, 
        Typeset`size$$ = {1040., {230.29031792534983`, 236.02225151909983`}}, 
        Typeset`update$$ = 0, Typeset`initDone$$, Typeset`skipInitDone$$ = 
        True, Typeset`keyframeActionsQ$$ = False, 
        Typeset`keyframeList$$ = {}}, 
        DynamicBox[Manipulate`ManipulateBoxes[
         1, StandardForm, "Variables" :> {$CellContext`x$$ = 144}, 
          "ControllerVariables" :> {}, 
          "OtherVariables" :> {
           Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
            Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
            Typeset`specs$$, Typeset`size$$, Typeset`update$$, 
            Typeset`initDone$$, Typeset`skipInitDone$$, 
            Typeset`keyframeActionsQ$$, Typeset`keyframeList$$}, "Body" :> 
          Module[{$CellContext`tsx$, $CellContext`tsxunnormalized$, \
$CellContext`filename$, $CellContext`plot$, $CellContext`updatedstr$}, \
$CellContext`updatedstr$ = Style[
               StringTemplate["(updated: ``)"][
                DateString[]], 
               $CellContext`settings$1200164[$CellContext`subtitlestyle]]; \
$CellContext`tsxunnormalized$ = 
             Map[TimeSeriesWindow[#, {
                Today - Quantity[$CellContext`x$$, "Months"], 
                 Today}]& , $CellContext`tslist$1200164]; $CellContext`tsx$ = 
             If[
               $CellContext`settings$1200164[$CellContext`normalize], 
               
               Map[# 100/#[
                "FirstValue"]& , $CellContext`tsxunnormalized$], \
$CellContext`tsxunnormalized$]; Column[{
               Column[
                MapIndexed[Row[{
                   Style[
                    Row[{
                    Style[
                    ToString[
                    
                    PercentForm[(#["LastValue"] - #["FirstValue"])/#[
                    "FirstValue"], NumberSeparator -> ",", DigitBlock -> 3]], {
                    If[#["LastValue"] > #["FirstValue"], 
                    Darker[Green], Red], Bold}], "Latest: " <> ToString[
                    QuantityMagnitude[
                    #["LastValue"]]], "ATH: " <> ToString[
                    QuantityMagnitude[
                    Max[#]]]}, 
                    Spacer[20]], 
                    Join[
                    $CellContext`settings$1200164[$CellContext`summarystyle], {
                    Part[
                    ColorData[
                    $CellContext`settings$1200164[$CellContext`colorscheme], 
                    "ColorList"], 
                    First[#2]]}]], 
                   Spacer[60], 
                   Style[
                    Row[{"Min: " <> ToString[
                    QuantityMagnitude[
                    Min[#]]], "Mean: " <> ToString[
                    QuantityMagnitude[
                    Mean[#]]], "Max: " <> ToString[
                    QuantityMagnitude[
                    Max[#]]]}, 
                    Spacer[20]], 
                    Join[
                    $CellContext`settings$1200164[$CellContext`rangestyle], {
                    Part[
                    ColorData[
                    $CellContext`settings$1200164[$CellContext`colorscheme], 
                    "ColorList"], 
                    First[#2]]}]]}]& , $CellContext`tsx$]], 
               $CellContext`settings$1200164[$CellContext`plotfunction][$\
CellContext`tsx$, 
                AspectRatio -> \
$CellContext`settings$1200164[$CellContext`aspectratio], 
                Background -> \
$CellContext`settings$1200164[$CellContext`background], 
                ImageMargins -> \
$CellContext`settings$1200164[$CellContext`imagemargins], 
                ImageSize -> \
$CellContext`settings$1200164[$CellContext`imagesize], 
                Filling -> \
$CellContext`settings$1200164[$CellContext`filling], 
                FillingStyle -> \
$CellContext`settings$1200164[$CellContext`fillingstyle], 
                FrameTicksStyle -> \
$CellContext`settings$1200164[$CellContext`ticksstyle], FrameTicks -> All, 
                GridLines -> {
                  $CellContext`settings$1200164[$CellContext`gridlinesx], 
                  $CellContext`settings$1200164[$CellContext`gridlinesy]}, 
                Joined -> $CellContext`settings$1200164[$CellContext`joined], 
                LabelStyle -> \
$CellContext`settings$1200164[$CellContext`labelstyle], PlotLabel -> Column[{
                   Style["BTC price (USD)", 
                    $CellContext`settings$1200164[$CellContext`titlestyle]], 
                   Style[ToString[$CellContext`x$$] <> " months", 
                    $CellContext`settings$1200164[$CellContext`titlestyle]], \
$CellContext`updatedstr$}, Center], 
                PlotRange -> \
$CellContext`settings$1200164[$CellContext`plotrange], PlotStyle -> 
                ColorData[
                  $CellContext`settings$1200164[$CellContext`colorscheme]]]}, 
              Background -> \
$CellContext`settings$1200164[$CellContext`background]]], 
          "Specifications" :> {{{$CellContext`x$$, 144, "Months: "}, {162, 
             156, 150, 144, 138, 132, 126, 120, 114, 108, 102, 96, 90, 84, 78,
              72, 66, 60, 54, 48, 42, 36, 30, 24, 18, 12, 9, 6, 3, 2, 1}}}, 
          "Options" :> {LabelStyle -> {14}, FrameMargins -> None}, 
          "DefaultOptions" :> {}],
         ImageSizeCache->{1069.1, {268.02983513726394`, 273.76176873101394`}},
         
         SingleEvaluation->True],
        Deinitialization:>None,
        DynamicModuleValues:>{},
        SynchronousInitialization->True,
        UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
        UnsavedVariables:>{Typeset`initDone$$},
        UntrackedVariables:>{Typeset`size$$}], "Manipulate",
       Deployed->True,
       StripOnInput->False],
      Manipulate`InterpretManipulate[1]]},
    {
     TagBox[
      StyleBox[
       DynamicModuleBox[{$CellContext`x$$ = 144, Typeset`show$$ = True, 
        Typeset`bookmarkList$$ = {}, Typeset`bookmarkMode$$ = "Menu", 
        Typeset`animator$$, Typeset`animvar$$ = 1, Typeset`name$$ = 
        "\"untitled\"", Typeset`specs$$ = {{{
           Hold[$CellContext`x$$], 144, "Months: "}, {162, 156, 150, 144, 138,
           132, 126, 120, 114, 108, 102, 96, 90, 84, 78, 72, 66, 60, 54, 48, 
          42, 36, 30, 24, 18, 12, 9, 6, 3, 2, 1}, ControlType -> PopupMenu}}, 
        Typeset`size$$ = {1040., {235.31746809895822`, 241.04940169270822`}}, 
        Typeset`update$$ = 0, Typeset`initDone$$, Typeset`skipInitDone$$ = 
        True, Typeset`keyframeActionsQ$$ = False, 
        Typeset`keyframeList$$ = {}}, 
        DynamicBox[Manipulate`ManipulateBoxes[
         1, StandardForm, "Variables" :> {$CellContext`x$$ = 144}, 
          "ControllerVariables" :> {}, 
          "OtherVariables" :> {
           Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
            Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
            Typeset`specs$$, Typeset`size$$, Typeset`update$$, 
            Typeset`initDone$$, Typeset`skipInitDone$$, 
            Typeset`keyframeActionsQ$$, Typeset`keyframeList$$}, "Body" :> 
          Module[{$CellContext`tsx$, $CellContext`tsxunnormalized$, \
$CellContext`filename$, $CellContext`plot$, $CellContext`updatedstr$}, \
$CellContext`updatedstr$ = Style[
               StringTemplate["(updated: ``)"][
                DateString[]], 
               $CellContext`settings$1200365[$CellContext`subtitlestyle]]; \
$CellContext`tsxunnormalized$ = 
             Map[TimeSeriesWindow[#, {
                Today - Quantity[$CellContext`x$$, "Months"], 
                 Today}]& , $CellContext`tslist$1200365]; $CellContext`tsx$ = 
             If[
               $CellContext`settings$1200365[$CellContext`normalize], 
               
               Map[# 100/#[
                "FirstValue"]& , $CellContext`tsxunnormalized$], \
$CellContext`tsxunnormalized$]; Column[{
               Column[
                MapIndexed[Row[{
                   Style[
                    Row[{
                    Style[
                    ToString[
                    
                    PercentForm[(#["LastValue"] - #["FirstValue"])/#[
                    "FirstValue"], NumberSeparator -> ",", DigitBlock -> 3]], {
                    If[#["LastValue"] > #["FirstValue"], 
                    Darker[Green], Red], Bold}], "Latest: " <> ToString[
                    QuantityMagnitude[
                    #["LastValue"]]], "ATH: " <> ToString[
                    QuantityMagnitude[
                    Max[#]]]}, 
                    Spacer[20]], 
                    Join[
                    $CellContext`settings$1200365[$CellContext`summarystyle], {
                    Part[
                    ColorData[
                    $CellContext`settings$1200365[$CellContext`colorscheme], 
                    "ColorList"], 
                    First[#2]]}]], 
                   Spacer[60], 
                   Style[
                    Row[{"Min: " <> ToString[
                    QuantityMagnitude[
                    Min[#]]], "Mean: " <> ToString[
                    QuantityMagnitude[
                    Mean[#]]], "Max: " <> ToString[
                    QuantityMagnitude[
                    Max[#]]]}, 
                    Spacer[20]], 
                    Join[
                    $CellContext`settings$1200365[$CellContext`rangestyle], {
                    Part[
                    ColorData[
                    $CellContext`settings$1200365[$CellContext`colorscheme], 
                    "ColorList"], 
                    First[#2]]}]]}]& , $CellContext`tsx$]], 
               $CellContext`settings$1200365[$CellContext`plotfunction][$\
CellContext`tsx$, 
                AspectRatio -> \
$CellContext`settings$1200365[$CellContext`aspectratio], 
                Background -> \
$CellContext`settings$1200365[$CellContext`background], 
                ImageMargins -> \
$CellContext`settings$1200365[$CellContext`imagemargins], 
                ImageSize -> \
$CellContext`settings$1200365[$CellContext`imagesize], 
                Filling -> \
$CellContext`settings$1200365[$CellContext`filling], 
                FillingStyle -> \
$CellContext`settings$1200365[$CellContext`fillingstyle], 
                FrameTicksStyle -> \
$CellContext`settings$1200365[$CellContext`ticksstyle], FrameTicks -> All, 
                GridLines -> {
                  $CellContext`settings$1200365[$CellContext`gridlinesx], 
                  $CellContext`settings$1200365[$CellContext`gridlinesy]}, 
                Joined -> $CellContext`settings$1200365[$CellContext`joined], 
                LabelStyle -> \
$CellContext`settings$1200365[$CellContext`labelstyle], PlotLabel -> Column[{
                   Style["Gold price (USD)", 
                    $CellContext`settings$1200365[$CellContext`titlestyle]], 
                   Style[ToString[$CellContext`x$$] <> " months", 
                    $CellContext`settings$1200365[$CellContext`titlestyle]], \
$CellContext`updatedstr$}, Center], 
                PlotRange -> \
$CellContext`settings$1200365[$CellContext`plotrange], PlotStyle -> 
                ColorData[
                  $CellContext`settings$1200365[$CellContext`colorscheme]]]}, 
              Background -> \
$CellContext`settings$1200365[$CellContext`background]]], 
          "Specifications" :> {{{$CellContext`x$$, 144, "Months: "}, {162, 
             156, 150, 144, 138, 132, 126, 120, 114, 108, 102, 96, 90, 84, 78,
              72, 66, 60, 54, 48, 42, 36, 30, 24, 18, 12, 9, 6, 3, 2, 1}}}, 
          "Options" :> {LabelStyle -> {14}, FrameMargins -> None}, 
          "DefaultOptions" :> {}],
         ImageSizeCache->{1069.1, {273.0569853108723, 278.7889189046223}},
         SingleEvaluation->True],
        Deinitialization:>None,
        DynamicModuleValues:>{},
        SynchronousInitialization->True,
        UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
        UnsavedVariables:>{Typeset`initDone$$},
        UntrackedVariables:>{Typeset`size$$}], "Manipulate",
       Deployed->True,
       StripOnInput->False],
      Manipulate`InterpretManipulate[1]]},
    {
     TagBox[
      StyleBox[
       DynamicModuleBox[{$CellContext`x$$ = 144, Typeset`show$$ = True, 
        Typeset`bookmarkList$$ = {}, Typeset`bookmarkMode$$ = "Menu", 
        Typeset`animator$$, Typeset`animvar$$ = 1, Typeset`name$$ = 
        "\"untitled\"", Typeset`specs$$ = {{{
           Hold[$CellContext`x$$], 144, "Months: "}, {162, 156, 150, 144, 138,
           132, 126, 120, 114, 108, 102, 96, 90, 84, 78, 72, 66, 60, 54, 48, 
          42, 36, 30, 24, 18, 12, 9, 6, 3, 2, 1}, ControlType -> PopupMenu}}, 
        Typeset`size$$ = {
        1058.1459531249998`, {241.20741861979164`, 246.93935221354164`}}, 
        Typeset`update$$ = 0, Typeset`initDone$$, Typeset`skipInitDone$$ = 
        True, Typeset`keyframeActionsQ$$ = False, 
        Typeset`keyframeList$$ = {}}, 
        DynamicBox[Manipulate`ManipulateBoxes[
         1, StandardForm, "Variables" :> {$CellContext`x$$ = 144}, 
          "ControllerVariables" :> {}, 
          "OtherVariables" :> {
           Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
            Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
            Typeset`specs$$, Typeset`size$$, Typeset`update$$, 
            Typeset`initDone$$, Typeset`skipInitDone$$, 
            Typeset`keyframeActionsQ$$, Typeset`keyframeList$$}, "Body" :> 
          Module[{$CellContext`tsx$, $CellContext`tsxunnormalized$, \
$CellContext`filename$, $CellContext`plot$, $CellContext`updatedstr$}, \
$CellContext`updatedstr$ = Style[
               StringTemplate["(updated: ``)"][
                DateString[]], 
               $CellContext`settings$1201354[$CellContext`subtitlestyle]]; \
$CellContext`tsxunnormalized$ = 
             Map[TimeSeriesWindow[#, {
                Today - Quantity[$CellContext`x$$, "Months"], 
                 Today}]& , $CellContext`tslist$1201354]; $CellContext`tsx$ = 
             If[
               $CellContext`settings$1201354[$CellContext`normalize], 
               
               Map[# 100/#[
                "FirstValue"]& , $CellContext`tsxunnormalized$], \
$CellContext`tsxunnormalized$]; Column[{
               Column[
                MapIndexed[Row[{
                   Style[
                    Row[{
                    Style[
                    ToString[
                    
                    PercentForm[(#["LastValue"] - #["FirstValue"])/#[
                    "FirstValue"], NumberSeparator -> ",", DigitBlock -> 3]], {
                    If[#["LastValue"] > #["FirstValue"], 
                    Darker[Green], Red], Bold}], "Latest: " <> ToString[
                    QuantityMagnitude[
                    #["LastValue"]]], "ATH: " <> ToString[
                    QuantityMagnitude[
                    Max[#]]]}, 
                    Spacer[20]], 
                    Join[
                    $CellContext`settings$1201354[$CellContext`summarystyle], {
                    Part[
                    ColorData[
                    $CellContext`settings$1201354[$CellContext`colorscheme], 
                    "ColorList"], 
                    First[#2]]}]], 
                   Spacer[60], 
                   Style[
                    Row[{"Min: " <> ToString[
                    QuantityMagnitude[
                    Min[#]]], "Mean: " <> ToString[
                    QuantityMagnitude[
                    Mean[#]]], "Max: " <> ToString[
                    QuantityMagnitude[
                    Max[#]]]}, 
                    Spacer[20]], 
                    Join[
                    $CellContext`settings$1201354[$CellContext`rangestyle], {
                    Part[
                    ColorData[
                    $CellContext`settings$1201354[$CellContext`colorscheme], 
                    "ColorList"], 
                    First[#2]]}]]}]& , $CellContext`tsx$]], 
               $CellContext`settings$1201354[$CellContext`plotfunction][$\
CellContext`tsx$, 
                AspectRatio -> \
$CellContext`settings$1201354[$CellContext`aspectratio], 
                Background -> \
$CellContext`settings$1201354[$CellContext`background], 
                ImageMargins -> \
$CellContext`settings$1201354[$CellContext`imagemargins], 
                ImageSize -> \
$CellContext`settings$1201354[$CellContext`imagesize], 
                Filling -> \
$CellContext`settings$1201354[$CellContext`filling], 
                FillingStyle -> \
$CellContext`settings$1201354[$CellContext`fillingstyle], 
                FrameTicksStyle -> \
$CellContext`settings$1201354[$CellContext`ticksstyle], FrameTicks -> All, 
                GridLines -> {
                  $CellContext`settings$1201354[$CellContext`gridlinesx], 
                  $CellContext`settings$1201354[$CellContext`gridlinesy]}, 
                Joined -> $CellContext`settings$1201354[$CellContext`joined], 
                LabelStyle -> \
$CellContext`settings$1201354[$CellContext`labelstyle], PlotLabel -> Column[{
                   Style["BTC price to Gold price", 
                    $CellContext`settings$1201354[$CellContext`titlestyle]], 
                   Style[ToString[$CellContext`x$$] <> " months", 
                    $CellContext`settings$1201354[$CellContext`titlestyle]], \
$CellContext`updatedstr$}, Center], 
                PlotRange -> \
$CellContext`settings$1201354[$CellContext`plotrange], PlotStyle -> 
                ColorData[
                  $CellContext`settings$1201354[$CellContext`colorscheme]]]}, 
              Background -> \
$CellContext`settings$1201354[$CellContext`background]]], 
          "Specifications" :> {{{$CellContext`x$$, 144, "Months: "}, {162, 
             156, 150, 144, 138, 132, 126, 120, 114, 108, 102, 96, 90, 84, 78,
              72, 66, 60, 54, 48, 42, 36, 30, 24, 18, 12, 9, 6, 3, 2, 1}}}, 
          "Options" :> {LabelStyle -> {14}, FrameMargins -> None}, 
          "DefaultOptions" :> {}],
         ImageSizeCache->{
          1087.2459531249997`, {278.94693583170573`, 284.67886942545573`}},
         SingleEvaluation->True],
        Deinitialization:>None,
        DynamicModuleValues:>{},
        SynchronousInitialization->True,
        UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
        UnsavedVariables:>{Typeset`initDone$$},
        UntrackedVariables:>{Typeset`size$$}], "Manipulate",
       Deployed->True,
       StripOnInput->False],
      Manipulate`InterpretManipulate[1]]}
   },
   DefaultBaseStyle->"Column",
   GridBoxAlignment->{"Columns" -> {{Center}}},
   GridBoxItemSize->{"Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}],
  "Column"]], "Output",
 CellChangeTimes->{
  3.952460172492668*^9, 3.9524602259114017`*^9, 3.952460326028411*^9, 
   3.952528052640437*^9, 3.952528084253078*^9, 3.95269984388659*^9, 
   3.952700139050377*^9, 3.952700172701836*^9, 3.952886198433195*^9, 
   3.952888538512979*^9, 3.9528888417037897`*^9, 3.9528890012049017`*^9, 
   3.9528891642079782`*^9, 3.952889224981306*^9, 3.952889271798032*^9, 
   3.9528893340704737`*^9, {3.952889480439089*^9, 3.952889493696576*^9}, {
   3.9528895729666233`*^9, 3.9528895841226683`*^9}, 3.9528896463429413`*^9, 
   3.952889757658269*^9, 3.95288987286086*^9, 3.95305638206269*^9, 
   3.953143961170929*^9, 3.9531440967583227`*^9, 3.953144874111377*^9, 
   3.953144945900279*^9, 3.9531450418637953`*^9, 3.953145151499548*^9, 
   3.953148029155754*^9, 3.95314953674219*^9, 3.953149621389708*^9, {
   3.95314996569268*^9, 3.953149987718195*^9}, 3.953150080724777*^9, 
   3.9531506779788113`*^9, 3.9531508994274597`*^9, 3.953153539996669*^9, 
   3.9532074876454763`*^9, 3.9532851037881737`*^9, 3.9532851645486803`*^9, 
   3.953665631455551*^9, 3.953666368879347*^9, 3.953666421624029*^9, 
   3.9536664687407703`*^9, 3.9536681283222513`*^9, 3.95366819643218*^9, 
   3.953668411609652*^9, 3.953668455121228*^9, 3.953668493438695*^9, 
   3.953668551693836*^9, 3.953668694944148*^9, 3.953668931481721*^9, 
   3.953668988003277*^9, 3.953669025904055*^9, 3.9536695089238358`*^9, 
   3.953669565168133*^9, {3.953670093123258*^9, 3.95367011573848*^9}, 
   3.953670279824911*^9, 3.953670392586666*^9, 3.953670427899302*^9, 
   3.953670609999228*^9, 3.953729744443466*^9, 3.953741198563134*^9, 
   3.954263352143148*^9, 3.954272971142671*^9, 3.954334881980288*^9, 
   3.9543350839995127`*^9, 3.9543352132112617`*^9, 3.954335683325163*^9, 
   3.9544343637789288`*^9, 3.95460541854219*^9, 3.9546058969549017`*^9, {
   3.9548412346612253`*^9, 3.954841248198084*^9}, 3.95484141019335*^9, 
   3.954841590519102*^9, 3.9548416788485394`*^9, 3.954841728937983*^9, 
   3.954841807156372*^9, 3.95511633304109*^9, 3.955116496552478*^9, 
   3.955483492067026*^9, 3.9557008731474037`*^9, 3.955701012872404*^9, 
   3.9557011041048813`*^9, 3.955701569961871*^9, 3.9557018662635193`*^9, 
   3.956325764298484*^9, 3.956488352972334*^9, 3.956488494492721*^9, 
   3.956695790383092*^9, 3.9567751725601254`*^9, 3.956833392962843*^9, 
   3.957388703363694*^9, 3.957667825843708*^9, 3.958140024256075*^9, 
   3.958544831405953*^9},
 CellLabel->
  "Out[446]=",ExpressionUUID->"2ce7fec6-7cac-405d-bf33-4a1f92fef6aa"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1234, 1257},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
FrontEndVersion->"14.2 for Mac OS X ARM (64-bit) (December 26, 2024)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"36c33480-753e-49fa-a80c-93661c14d827"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[576, 22, 621, 9, 96, "Title",ExpressionUUID->"e80cee27-40fb-4de8-aadd-ab763ef324d7"],
Cell[CellGroupData[{
Cell[1222, 35, 4164, 93, 19, "Input",ExpressionUUID->"14006091-21fb-46e0-9a46-e1fcba7cf712",
 CellOpen->False],
Cell[5389, 130, 2325, 36, 42, "Output",ExpressionUUID->"6af8e54a-0f17-4c4d-a95a-da4fabe8042f"]
}, Open  ]],
Cell[CellGroupData[{
Cell[7751, 171, 27490, 538, 19, "Input",ExpressionUUID->"33df2f7b-054e-4fe7-8633-eec369172053",
 CellOpen->False],
Cell[35244, 711, 21803, 430, 1703, "Output",ExpressionUUID->"2ce7fec6-7cac-405d-bf33-4a1f92fef6aa"]
}, Open  ]]
}, Open  ]]
}
]
*)

