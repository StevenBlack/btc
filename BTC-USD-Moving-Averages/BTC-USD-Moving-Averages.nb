(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Wolfram 14.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       154,          7]
NotebookDataLength[     49109,       1034]
NotebookOptionsPosition[     47633,        996]
NotebookOutlinePosition[     48030,       1012]
CellTagsIndexPosition[     47987,       1009]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["BTC-USD Moving Averages", "Title",
 CellChangeTimes->{{3.910870641488784*^9, 3.910870672156954*^9}, {
   3.926025545790792*^9, 3.926025552724882*^9}, {3.926025595726514*^9, 
   3.926025757662788*^9}, {3.926025868590417*^9, 3.9260258908130703`*^9}, {
   3.926025923714999*^9, 3.926025947740068*^9}, {3.926025983974702*^9, 
   3.9260259969579153`*^9}, {3.926026132046829*^9, 3.9260261531265078`*^9}, {
   3.926026187121852*^9, 3.926026203619293*^9}, {3.9260262759617853`*^9, 
   3.926026368321966*^9}, {3.9260264467697067`*^9, 3.926026471440771*^9}, 
   3.946833575036257*^9, {3.9468337285215893`*^9, 3.946833740968305*^9}, {
   3.9510676135600767`*^9, 3.951067618898324*^9}, {3.951403495188859*^9, 
   3.95140349852347*^9}},ExpressionUUID->"f5fa712f-8f02-48db-ad7d-\
991505d584c6"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Clear", "[", "\"\<Global`*\>\"", "]"}], "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"Buttons", " ", "to", " ", 
     RowBox[{"hide", " ", "/", " ", "show"}], " ", "code"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"CloseAllInputsCells", "[", "]"}], ":=", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"nb", ",", "cells"}], "}"}], ",", 
       RowBox[{
        RowBox[{"nb", "=", 
         RowBox[{"EvaluationNotebook", "[", "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"cells", "=", 
         RowBox[{"Cells", "[", 
          RowBox[{"nb", ",", 
           RowBox[{"CellStyle", "->", "\"\<Input\>\""}]}], "]"}]}], ";", 
        RowBox[{
         RowBox[{
          RowBox[{"SetOptions", "[", 
           RowBox[{"#", ",", 
            RowBox[{"CellOpen", "->", "False"}]}], "]"}], "&"}], "/@", 
         "cells"}], ";"}]}], "]"}]}], ";"}], "\n", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"OpenAllInputsCells", "[", "]"}], ":=", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"nb", ",", "cells"}], "}"}], ",", 
       RowBox[{
        RowBox[{"nb", "=", 
         RowBox[{"EvaluationNotebook", "[", "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"cells", "=", 
         RowBox[{"Cells", "[", 
          RowBox[{"nb", ",", 
           RowBox[{"CellStyle", "->", "\"\<Input\>\""}]}], "]"}]}], ";", 
        RowBox[{
         RowBox[{
          RowBox[{"SetOptions", "[", 
           RowBox[{"#", ",", 
            RowBox[{"CellOpen", "->", "True"}]}], "]"}], "&"}], "/@", 
         "cells"}], ";"}]}], "]"}]}], ";"}], "\n", "\[IndentingNewLine]", 
   RowBox[{"Row", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"Button", "[", 
       RowBox[{"\"\<Hide Code\>\"", ",", 
        RowBox[{"SelectionEvaluate", "[", 
         RowBox[{"CloseAllInputsCells", "[", "]"}], "]"}]}], "]"}], ",", 
      RowBox[{"Button", "[", 
       RowBox[{"\"\<Show Code\>\"", ",", 
        RowBox[{"SelectionEvaluate", "[", 
         RowBox[{"OpenAllInputsCells", "[", "]"}], "]"}]}], "]"}]}], "}"}], 
    "]"}]}]}]], "Input",
 CellOpen->False,
 CellChangeTimes->{{3.9503706662894382`*^9, 3.950370670716475*^9}, {
  3.950716569289399*^9, 3.9507165917716703`*^9}},
 CellLabel->
  "In[181]:=",ExpressionUUID->"9a9e9e9d-ec59-4e5e-9d58-ff1c581459b9"],

Cell[BoxData[
 TemplateBox[{
   ButtonBox["\"Hide Code\"", ButtonFunction :> SelectionEvaluate[
      $CellContext`CloseAllInputsCells[]], Appearance -> Automatic, Evaluator -> 
    Automatic, Method -> "Preemptive"], 
   ButtonBox["\"Show Code\"", ButtonFunction :> SelectionEvaluate[
      $CellContext`OpenAllInputsCells[]], Appearance -> Automatic, Evaluator -> 
    Automatic, Method -> "Preemptive"]},
  "RowDefault"]], "Output",
 CellChangeTimes->{
  3.95037067897987*^9, 3.950370932888196*^9, 3.950716378088337*^9, 
   3.950716612159751*^9, 3.9507178342829447`*^9, 3.950717865690592*^9, 
   3.950717919201939*^9, 3.950718163606518*^9, {3.95071824786064*^9, 
   3.950718296289762*^9}, 3.9507186035652437`*^9, 3.950718838876289*^9, 
   3.9507188961384573`*^9, 3.950719053666215*^9, 3.9507191236489573`*^9, 
   3.950734955796301*^9, 3.950735382621984*^9, 3.95073563128335*^9, 
   3.9510673274634323`*^9, 3.951067747710849*^9, 3.9510819647063017`*^9, 
   3.951082178825634*^9, 3.9510831005116653`*^9, 3.951083224294715*^9, 
   3.951083413567844*^9, 3.951083537705576*^9, 3.95108364512353*^9, 
   3.951083724724044*^9, 3.9510838697862988`*^9, 3.951084935307863*^9, 
   3.951085052385006*^9, 3.9510858009244547`*^9, 3.9510859211174717`*^9, 
   3.9510860536523857`*^9, 3.951395615283012*^9, 3.951395743993288*^9, 
   3.95139630968331*^9, 3.95139635709527*^9, 3.951402212384441*^9},
 CellLabel->
  "Out[184]=",ExpressionUUID->"9ee26528-6b90-4a2a-bd42-b5b8a3c81ae4"]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"SetDirectory", "[", 
    RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ";"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"Function", " ", "shortcuts"}], " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"st", "=", "StringTemplate"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"dollar", "[", "a_", "]"}], ":=", 
    RowBox[{
     RowBox[{"st", "[", "\"\<$``\>\"", "]"}], "[", 
     RowBox[{"NumberForm", "[", 
      RowBox[{"a", ",", 
       RowBox[{"DigitBlock", "->", "3"}]}], "]"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "Default", " ", "properties", " ", "for", " ", "generated", " ", "plots"}],
    " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"imagesize", "=", "800"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"imagemargins", "=", "20"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"labelstyle", "=", 
   RowBox[{"Directive", "[", "14", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"titlestyle", "=", 
   RowBox[{"{", 
    RowBox[{"20", ",", "Red"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"subtitlestyle", " ", "=", " ", 
   RowBox[{"{", "15", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"imagemargins", "=", "20"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"plotbackground", "=", 
   RowBox[{"Lighter", "[", 
    RowBox[{"LightGray", ",", "0.75"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"updatedstr", "=", 
    RowBox[{"Style", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"st", "[", "\"\<(updated: ``)\>\"", "]"}], "[", 
       RowBox[{"DateString", "[", "]"}], "]"}], ",", "subtitlestyle"}], 
     "]"}]}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"btcData", "=", 
   RowBox[{"FinancialData", "[", "\[IndentingNewLine]", 
    RowBox[{"\"\<BTC/USD\>\"", "\[IndentingNewLine]", 
     ",", "\"\<Jan 1 2012\>\""}], "\[IndentingNewLine]", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"mo100", "=", 
   RowBox[{"MovingAverage", "[", 
    RowBox[{"btcData", ",", "100"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"mo100latest", "=", 
   RowBox[{"dollar", "[", 
    RowBox[{"mo100", "[", "\"\<LastValue\>\"", "]"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"mo200", "=", 
   RowBox[{"MovingAverage", "[", 
    RowBox[{"btcData", ",", "200"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"mo200latest", "=", 
   RowBox[{"dollar", "[", 
    RowBox[{"mo200", "[", "\"\<LastValue\>\"", "]"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"mo1yr", "=", 
   RowBox[{"MovingAverage", "[", 
    RowBox[{"btcData", ",", "365"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"mo1yrlatest", "=", 
   RowBox[{"dollar", "[", 
    RowBox[{"mo1yr", "[", "\"\<LastValue\>\"", "]"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"mo2yr", "=", 
   RowBox[{"MovingAverage", "[", 
    RowBox[{"btcData", ",", 
     RowBox[{"365", "*", "2"}]}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"mo2yrlatest", "=", 
   RowBox[{"dollar", "[", 
    RowBox[{"mo2yr", "[", "\"\<LastValue\>\"", "]"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"mo3yr", "=", 
   RowBox[{"MovingAverage", "[", 
    RowBox[{"btcData", ",", 
     RowBox[{"365", "*", "3"}]}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"mo3yrlatest", "=", 
   RowBox[{"dollar", "[", 
    RowBox[{"mo3yr", "[", "\"\<LastValue\>\"", "]"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"mo4yr", "=", 
   RowBox[{"MovingAverage", "[", 
    RowBox[{"btcData", ",", 
     RowBox[{"365", "*", "4"}]}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"mo4yrlatest", "=", 
   RowBox[{"dollar", "[", 
    RowBox[{"mo4yr", "[", "\"\<LastValue\>\"", "]"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"mo5yr", "=", 
   RowBox[{"MovingAverage", "[", 
    RowBox[{"btcData", ",", 
     RowBox[{"365", "*", "5"}]}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"mo5yrlatest", "=", 
    RowBox[{"dollar", "[", 
     RowBox[{"mo5yr", "[", "\"\<LastValue\>\"", "]"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"plottypefunc", "=", "DateListPlot"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"lines", "=", 
   RowBox[{"Range", "[", "1", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"selectlines", "=", 
   RowBox[{"CheckboxBar", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Dynamic", "[", "lines", "]"}], "\[IndentingNewLine]", ",", 
     RowBox[{
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{"#", ",", 
           RowBox[{"{", "16", "}"}]}], "]"}], "&"}], ",", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"1", "->", "\"\<BTC\>\""}], ",", 
            RowBox[{"2", "->", "\"\<100 day\>\""}], ",", 
            RowBox[{"3", "->", "\"\<200 day\>\""}], ",", 
            RowBox[{"4", "->", "\"\<1 year\>\""}], ",", 
            RowBox[{"5", "->", "\"\<2 year\>\""}], ",", " ", 
            RowBox[{"6", "->", " ", "\"\<3 year\>\""}], ",", " ", 
            RowBox[{"7", "->", " ", "\"\<4 year\>\""}], ",", " ", 
            RowBox[{"8", "->", " ", "\"\<5 year\>\""}]}], "}"}], "//", 
          "Association"}], ")"}]}], "]"}], "//", "Normal"}], 
     "\[IndentingNewLine]", ",", 
     RowBox[{"Method", "->", "\"\<Active\>\""}]}], "\[IndentingNewLine]", 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"plottype", "=", "1"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"selectplottype", "=", 
   RowBox[{"RadioButtonBar", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Dynamic", "[", "plottype", "]"}], "\[IndentingNewLine]", ",", 
     RowBox[{
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Style", "[", 
          RowBox[{"#", ",", "16"}], "]"}], "&"}], ",", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"1", "\[Rule]", "\"\<Linear\>\""}], ",", 
            RowBox[{"2", "\[Rule]", "\"\<Log\>\""}]}], "}"}], "//", 
          "Association"}], ")"}]}], "]"}], "//", "Normal"}], 
     "\[IndentingNewLine]", ",", 
     RowBox[{"Method", "->", "\"\<Active\>\""}]}], "\[IndentingNewLine]", 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"plotlines", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
    "btcData", "\[IndentingNewLine]", ",", "mo100", "\[IndentingNewLine]", ",",
      "mo200", "\[IndentingNewLine]", ",", " ", "mo1yr", 
     "\[IndentingNewLine]", ",", " ", "mo2yr", "\[IndentingNewLine]", ",", 
     " ", "mo3yr", "\[IndentingNewLine]", ",", " ", "mo4yr", 
     "\[IndentingNewLine]", ",", " ", "mo5yr"}], "\[IndentingNewLine]", 
    "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"plotlabels", "=", 
   RowBox[{"{", 
    RowBox[{"\"\<BTC\>\"", "\[IndentingNewLine]", ",", 
     RowBox[{
      RowBox[{"st", "[", "\"\<100 day mo: ``\>\"", "]"}], "[", "mo100latest", 
      "]"}], "\[IndentingNewLine]", ",", 
     RowBox[{
      RowBox[{"st", "[", "\"\<200 day mo: ``\>\"", "]"}], "[", "mo200latest", 
      "]"}], "\[IndentingNewLine]", ",", 
     RowBox[{
      RowBox[{"st", "[", "\"\<1 yr mo: ``\>\"", "]"}], "[", "mo1yrlatest", 
      "]"}], "\[IndentingNewLine]", ",", 
     RowBox[{
      RowBox[{"st", "[", "\"\<2 yr mo: ``\>\"", "]"}], "[", "mo2yrlatest", 
      "]"}], "\[IndentingNewLine]", ",", 
     RowBox[{
      RowBox[{"st", "[", "\"\<3 yr mo: ``\>\"", "]"}], "[", "mo3yrlatest", 
      "]"}], "\[IndentingNewLine]", ",", 
     RowBox[{
      RowBox[{"st", "[", "\"\<4 yr mo: ``\>\"", "]"}], "[", "mo4yrlatest", 
      "]"}], "\[IndentingNewLine]", ",", 
     RowBox[{
      RowBox[{"st", "[", "\"\<5 yr mo: ``\>\"", "]"}], "[", "mo5yrlatest", 
      "]"}]}], "\[IndentingNewLine]", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"plotlegends", "=", 
   RowBox[{"{", 
    RowBox[{"\"\<BTC (USD)\>\"", "\[IndentingNewLine]", 
     ",", "\"\<100 Day MA\>\"", "\[IndentingNewLine]", 
     ",", "\"\<200 Day MA\>\"", "\[IndentingNewLine]", 
     ",", "\"\<1 Year MA\>\"", "\[IndentingNewLine]", ",", "\"\<2 Year MA\>\"",
      "\[IndentingNewLine]", ",", "\"\<3 Year MA\>\"", "\[IndentingNewLine]", 
     ",", "\"\<4 Year MA\>\"", "\[IndentingNewLine]", 
     ",", "\"\<5 Year MA\>\""}], "\[IndentingNewLine]", "}"}]}], 
  ";"}]}], "Input",
 CellOpen->False,
 CellChangeTimes->{{3.910870641488784*^9, 3.910870672156954*^9}, {
   3.926025545790792*^9, 3.926025552724882*^9}, {3.926025595726514*^9, 
   3.926025757662788*^9}, {3.926025868590417*^9, 3.9260258908130703`*^9}, {
   3.926025923714999*^9, 3.926025947740068*^9}, {3.926025983974702*^9, 
   3.9260259969579153`*^9}, {3.926026132046829*^9, 3.9260261531265078`*^9}, {
   3.926026187121852*^9, 3.926026203619293*^9}, {3.9260262759617853`*^9, 
   3.926026368321966*^9}, {3.9260264467697067`*^9, 3.926026461668386*^9}, {
   3.93022746671277*^9, 3.93022749095067*^9}, {3.930227564643298*^9, 
   3.930227598796813*^9}, {3.930227678094948*^9, 3.930227726034398*^9}, {
   3.93092388654604*^9, 3.930923920049479*^9}, {3.930924038902313*^9, 
   3.930924040490107*^9}, {3.930945977242186*^9, 3.930946095047868*^9}, {
   3.9309462442547503`*^9, 3.930946306831041*^9}, {3.930946383173805*^9, 
   3.930946461609544*^9}, 3.930946496030859*^9, {3.930946686835168*^9, 
   3.930946797994755*^9}, {3.930946831017578*^9, 3.930946871755554*^9}, {
   3.930946901831844*^9, 3.930946910250114*^9}, {3.930946995801789*^9, 
   3.930947009547386*^9}, {3.930947405111923*^9, 3.930947437566589*^9}, {
   3.930947475972148*^9, 3.930947506118739*^9}, {3.930947538350464*^9, 
   3.930947564378302*^9}, {3.931375072970685*^9, 3.93137520955162*^9}, {
   3.931458288206808*^9, 3.931458546007607*^9}, {3.931458626482923*^9, 
   3.931458636827924*^9}, 3.931458689720317*^9, {3.931781894231324*^9, 
   3.9317819000639133`*^9}, {3.932823233232479*^9, 3.932823235520179*^9}, {
   3.932823306120234*^9, 3.9328233070781918`*^9}, {3.932825893259492*^9, 
   3.93282590851719*^9}, 3.93282602769488*^9, {3.932826817535812*^9, 
   3.9328268633811502`*^9}, {3.932826900997468*^9, 3.932826902880033*^9}, {
   3.9328269555109043`*^9, 3.932826955897855*^9}, 3.932827077449484*^9, {
   3.932827621386087*^9, 3.932827625832981*^9}, {3.932827693133355*^9, 
   3.932827775084743*^9}, {3.932827847243692*^9, 3.932827847713254*^9}, {
   3.932827941967702*^9, 3.932828013432345*^9}, {3.9328292283283997`*^9, 
   3.932829272360949*^9}, 3.932829471340073*^9, {3.932838038769987*^9, 
   3.9328380487022457`*^9}, {3.932838132616906*^9, 3.932838170001339*^9}, {
   3.9328382397570744`*^9, 3.932838249388608*^9}, {3.932838285214756*^9, 
   3.9328382977012587`*^9}, {3.932839227589013*^9, 3.932839231935809*^9}, {
   3.932839519868491*^9, 3.932839528379842*^9}, {3.9328395680173407`*^9, 
   3.9328396090268106`*^9}, {3.9328396597842913`*^9, 3.932839685790423*^9}, {
   3.932841272579116*^9, 3.932841307769472*^9}, {3.9328413549992657`*^9, 
   3.932841477692514*^9}, {3.932841640820034*^9, 3.932841681526181*^9}, 
   3.932919141411237*^9, {3.93291987199671*^9, 3.932919928437492*^9}, {
   3.946832813567532*^9, 3.9468328183847017`*^9}, {3.94840702769051*^9, 
   3.948407184694631*^9}, {3.9484072388651657`*^9, 3.948407238993711*^9}, {
   3.949060277623681*^9, 3.949060282733123*^9}, 3.949060326205386*^9, {
   3.949060535523785*^9, 3.94906053870173*^9}, {3.9507186702882*^9, 
   3.9507186869780684`*^9}, {3.950719115426339*^9, 3.950719118138866*^9}, {
   3.950734441914851*^9, 3.950734449252839*^9}, {3.9507345162300386`*^9, 
   3.950734550010179*^9}, {3.950734941416844*^9, 3.9507349459467382`*^9}, {
   3.950735470278764*^9, 3.9507354956172857`*^9}, {3.951083199176271*^9, 
   3.951083214201564*^9}, {3.951083273335619*^9, 3.9510833022641563`*^9}, 
   3.951083408472246*^9, {3.951084413161702*^9, 3.951084450243886*^9}, {
   3.951084759990588*^9, 3.9510847751724987`*^9}, 3.9510848962807903`*^9, {
   3.951085097663888*^9, 3.951085098262012*^9}, {3.9510852824772787`*^9, 
   3.9510852933044767`*^9}, {3.951085734123775*^9, 3.951085786093936*^9}, {
   3.951085867873287*^9, 3.951085906528122*^9}, {3.951085989938107*^9, 
   3.9510860476451683`*^9}, 3.951396193668157*^9, {3.951396337201198*^9, 
   3.951396339809115*^9}, {3.9514024320573387`*^9, 3.951402436087594*^9}},
 CellLabel->
  "In[226]:=",ExpressionUUID->"22d7def2-8ef0-471c-a798-9bc673ed95b7"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Manipulate", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Module", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"plotlabel", ",", " ", "plottypefunc"}], "}"}], 
       "\[IndentingNewLine]", ",", 
       RowBox[{
        RowBox[{"plotlabel", "=", 
         RowBox[{"Column", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Join", "[", 
            RowBox[{
             RowBox[{"{", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"Style", "[", 
                
                RowBox[{"\"\<Bitcoin Price (USD)\>\"", " ", ",", 
                 "titlestyle"}], "]"}], "\[IndentingNewLine]", ",", 
               RowBox[{"Style", "[", 
                RowBox[{
                 RowBox[{"\"\<Latest: $\>\"", "  ", "<>", " ", 
                  RowBox[{"ToString", "[", 
                   RowBox[{"NumberForm", "[", 
                    RowBox[{
                    RowBox[{"btcData", "[", "\"\<LastValue\>\"", "]"}], ",", 
                    RowBox[{"DigitBlock", "->", "3"}]}], "]"}], "]"}]}], ",", 
                 "subtitlestyle"}], "]"}]}], "\[IndentingNewLine]", "}"}], 
             "\[IndentingNewLine]", ",", 
             RowBox[{
              RowBox[{
               RowBox[{"Style", "[", 
                RowBox[{"#", ",", "subtitlestyle"}], "]"}], "&"}], "/@", 
              RowBox[{"Part", "[", "\[IndentingNewLine]", 
               RowBox[{"plotlabels", "\[IndentingNewLine]", ",", 
                RowBox[{"Select", "[", 
                 RowBox[{"lines", ",", 
                  RowBox[{
                   RowBox[{"#", "!=", "1"}], "&"}]}], "]"}]}], 
               "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", "]"}],
            "\[IndentingNewLine]", ",", "Center"}], "\[IndentingNewLine]", 
          "]"}]}], ";", "\[IndentingNewLine]", 
        RowBox[{"plottypefunc", ":=", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"plottype", "==", "1"}], ",", "DateListPlot", ",", 
           "DateListLogPlot"}], "]"}]}], ";", "\[IndentingNewLine]", 
        RowBox[{"plottypefunc", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Part", "[", "\[IndentingNewLine]", 
           RowBox[{"plotlines", "\[IndentingNewLine]", ",", "lines"}], 
           "\[IndentingNewLine]", "]"}], "\[IndentingNewLine]", ",", 
          RowBox[{"ImageSize", "->", "imagesize"}], "\[IndentingNewLine]", ",", 
          RowBox[{"ImageMargins", "->", "imagemargins"}], 
          "\[IndentingNewLine]", ",", 
          RowBox[{"PlotRange", "->", "Full"}], "\[IndentingNewLine]", ",", 
          " ", 
          RowBox[{"GridLines", "->", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"DateRange", "[", 
              RowBox[{
               RowBox[{"{", "2012", "}"}], ",", 
               RowBox[{"{", "2027", "}"}], ",", "\"\<Year\>\""}], "]"}], ",", 
             "Automatic"}], "}"}]}], "\[IndentingNewLine]", ",", 
          RowBox[{"FrameTicks", "->", "All"}], "\[IndentingNewLine]", ",", 
          RowBox[{"PlotLabel", "->", 
           RowBox[{"Column", "[", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"{", "\[IndentingNewLine]", 
              RowBox[{"plotlabel", "\[IndentingNewLine]", ",", "updatedstr"}],
               "\[IndentingNewLine]", "}"}], "\[IndentingNewLine]", ",", 
             "Center"}], "]"}]}], "\[IndentingNewLine]", ",", 
          RowBox[{"PlotLegends", "->", 
           RowBox[{"Part", "[", "\[IndentingNewLine]", 
            RowBox[{"plotlegends", "\[IndentingNewLine]", ",", "lines"}], 
            "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", 
         "]"}]}]}], "\[IndentingNewLine]", "]"}], "\[IndentingNewLine]", ",", 
     
     RowBox[{"Dynamic", "[", "selectlines", "]"}], "\[IndentingNewLine]", ",", 
     RowBox[{"Dynamic", "[", "selectplottype", "]"}]}], "\[IndentingNewLine]",
     "]"}], "\[IndentingNewLine]"}]}]], "Input",
 CellOpen->False,
 CellChangeTimes->{{3.910870641488784*^9, 3.910870672156954*^9}, {
   3.926025545790792*^9, 3.926025552724882*^9}, {3.926025595726514*^9, 
   3.926025757662788*^9}, {3.926025868590417*^9, 3.9260258908130703`*^9}, {
   3.926025923714999*^9, 3.926025947740068*^9}, {3.926025983974702*^9, 
   3.9260259969579153`*^9}, {3.926026132046829*^9, 3.9260261531265078`*^9}, {
   3.926026187121852*^9, 3.926026203619293*^9}, {3.9260262759617853`*^9, 
   3.926026368321966*^9}, {3.9260264467697067`*^9, 3.926026461668386*^9}, {
   3.93022746671277*^9, 3.93022749095067*^9}, {3.930227564643298*^9, 
   3.930227598796813*^9}, {3.930227678094948*^9, 3.930227726034398*^9}, {
   3.93092388654604*^9, 3.930923920049479*^9}, {3.930924038902313*^9, 
   3.930924040490107*^9}, {3.930945977242186*^9, 3.930946095047868*^9}, {
   3.9309462442547503`*^9, 3.930946306831041*^9}, {3.930946383173805*^9, 
   3.930946461609544*^9}, 3.930946496030859*^9, {3.930946686835168*^9, 
   3.930946797994755*^9}, {3.930946831017578*^9, 3.930946871755554*^9}, {
   3.930946901831844*^9, 3.930946910250114*^9}, {3.930946995801789*^9, 
   3.930947009547386*^9}, {3.930947405111923*^9, 3.930947437566589*^9}, {
   3.930947475972148*^9, 3.930947506118739*^9}, {3.930947538350464*^9, 
   3.930947564378302*^9}, {3.931375072970685*^9, 3.93137520955162*^9}, {
   3.931458288206808*^9, 3.931458546007607*^9}, {3.931458626482923*^9, 
   3.931458636827924*^9}, 3.931458689720317*^9, {3.931781894231324*^9, 
   3.9317819000639133`*^9}, {3.932823233232479*^9, 3.932823235520179*^9}, {
   3.932823306120234*^9, 3.9328233070781918`*^9}, {3.932825893259492*^9, 
   3.932825996241819*^9}, {3.932826778668117*^9, 3.932826788209551*^9}, {
   3.932826916319316*^9, 3.9328269314232264`*^9}, {3.9328270406207733`*^9, 
   3.932827055832047*^9}, {3.932827785133774*^9, 3.932827809339817*^9}, {
   3.9328280170095387`*^9, 3.932828018073957*^9}, 3.932828080264769*^9, {
   3.9328283480718737`*^9, 3.932828378211445*^9}, {3.932828557080608*^9, 
   3.9328285899230537`*^9}, {3.932828647662094*^9, 3.932828777909708*^9}, {
   3.9328292855120583`*^9, 3.932829329207509*^9}, {3.9328294882267838`*^9, 
   3.9328294888976*^9}, {3.932829655657403*^9, 3.932829656624363*^9}, {
   3.932837963110736*^9, 3.93283798114072*^9}, {3.9328380848352118`*^9, 
   3.932838089545402*^9}, {3.932838151461606*^9, 3.932838156770879*^9}, {
   3.932838227439218*^9, 3.932838233633648*^9}, {3.932838272571656*^9, 
   3.932838277445059*^9}, {3.932839702013933*^9, 3.9328397748223658`*^9}, {
   3.9329196334765873`*^9, 3.93291963754069*^9}, {3.94579668069576*^9, 
   3.945796704570714*^9}, {3.946832997553685*^9, 3.9468330737917147`*^9}, {
   3.946833126955905*^9, 3.946833177198357*^9}, {3.946833223759438*^9, 
   3.9468332458462343`*^9}, {3.948987898481009*^9, 3.9489878990336733`*^9}, {
   3.949060368588005*^9, 3.949060369852696*^9}, {3.949060426180048*^9, 
   3.949060444450863*^9}, {3.949060485412519*^9, 3.949060496128162*^9}, 
   3.94906549826518*^9, {3.949065738472533*^9, 3.949065765081531*^9}, {
   3.950718442056315*^9, 3.950718464462699*^9}, 3.950718497007555*^9, {
   3.950734533072043*^9, 3.950734563771668*^9}, {3.9507346189697733`*^9, 
   3.950734629719369*^9}, {3.950734834036971*^9, 3.950734892496415*^9}, {
   3.950735612837654*^9, 3.950735618068153*^9}, {3.951081946210751*^9, 
   3.95108195450351*^9}, {3.951082144218356*^9, 3.951082169539357*^9}, {
   3.9510830497682123`*^9, 3.951083069552888*^9}, {3.951397695076914*^9, 
   3.951397701985179*^9}, {3.951401961130857*^9, 3.951401966145995*^9}, {
   3.951402348958255*^9, 3.951402356972924*^9}, {3.951402484768441*^9, 
   3.951402485329115*^9}},
 CellLabel->
  "In[260]:=",ExpressionUUID->"02b4a66c-d52d-466d-99b8-567eb1e34c19"],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{Typeset`show$$ = True, Typeset`bookmarkList$$ = {}, 
    Typeset`bookmarkMode$$ = "Menu", Typeset`animator$$, Typeset`animvar$$ = 
    1, Typeset`name$$ = "\"untitled\"", Typeset`specs$$ = {{
      Hold[
       Dynamic[$CellContext`selectlines]], Manipulate`Dump`ThisIsNotAControl, 
      ControlType -> None}, {
      Hold[
       Dynamic[$CellContext`selectplottype]], 
      Manipulate`Dump`ThisIsNotAControl, ControlType -> None}}, 
    Typeset`size$$ = {
    953.25078125, {293.55701001954844`, 299.28894361329844`}}, 
    Typeset`update$$ = 0, Typeset`initDone$$, Typeset`skipInitDone$$ = True, 
    Typeset`keyframeActionsQ$$ = False, Typeset`keyframeList$$ = {}}, 
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, "Variables" :> {}, "ControllerVariables" :> {}, 
      "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$, Typeset`keyframeActionsQ$$, 
        Typeset`keyframeList$$}, "Body" :> 
      Module[{$CellContext`plotlabel, $CellContext`plottypefunc}, \
$CellContext`plotlabel = Column[
           Join[{
             Style["Bitcoin Price (USD)", $CellContext`titlestyle], 
             Style["Latest: $" <> ToString[
                NumberForm[
                 $CellContext`btcData["LastValue"], DigitBlock -> 
                 3]], $CellContext`subtitlestyle]}, 
            Map[Style[#, $CellContext`subtitlestyle]& , 
             Part[$CellContext`plotlabels, 
              Select[$CellContext`lines, # != 1& ]]]], 
           Center]; $CellContext`plottypefunc := 
         If[$CellContext`plottype == 1, DateListPlot, 
           DateListLogPlot]; $CellContext`plottypefunc[
          Part[$CellContext`plotlines, $CellContext`lines], 
          ImageSize -> $CellContext`imagesize, 
          ImageMargins -> $CellContext`imagemargins, PlotRange -> Full, 
          GridLines -> {
            DateRange[{2012}, {2027}, "Year"], Automatic}, FrameTicks -> All, 
          PlotLabel -> 
          Column[{$CellContext`plotlabel, $CellContext`updatedstr}, Center], 
          PlotLegends -> Part[$CellContext`plotlegends, $CellContext`lines]]],
       "Specifications" :> {
        Dynamic[$CellContext`selectlines], 
        Dynamic[$CellContext`selectplottype]}, "Options" :> {}, 
      "DefaultOptions" :> {}],
     ImageSizeCache->{1002.35078125, {350.5948182470875, 356.3267518408375}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Manipulate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellChangeTimes->{
  3.951396277929221*^9, {3.9513963106245747`*^9, 3.951396320685095*^9}, 
   3.951396357794898*^9, {3.951397703511042*^9, 3.9513977084874973`*^9}, 
   3.951401894389645*^9, {3.951402214540745*^9, 3.951402264281311*^9}, 
   3.951402358331943*^9, {3.9514024446458387`*^9, 3.9514024552394543`*^9}, {
   3.9514024874926577`*^9, 3.951402502030325*^9}},
 CellLabel->
  "Out[260]=",ExpressionUUID->"aa4b2aac-497e-4141-835c-8085b610bba9"]
}, Open  ]],

Cell[BoxData["\[AliasDelimiter]"], "Input",
 CellOpen->False,
 CellChangeTimes->{
  3.951403174003639*^9},ExpressionUUID->"60f0faab-c40c-4a3e-a5f7-\
c80d919e4679"],

Cell[CellGroupData[{

Cell["Past n days moving average", "Section",
 CellChangeTimes->{{3.931778847021064*^9, 3.9317789179146833`*^9}, {
  3.931778955221694*^9, 3.931778965006196*^9}, {3.931780065852172*^9, 
  3.931780074893587*^9}},ExpressionUUID->"4de07029-d8b0-40fb-ac97-\
1a91d36f1eb6"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Manipulate", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Module", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"btcn", ",", " ", "mon", ",", " ", "meann", ",", "mean"}], 
      "}"}], "\[IndentingNewLine]", ",", 
     RowBox[{
      RowBox[{"btcn", "=", 
       RowBox[{"Take", "[", 
        RowBox[{
         RowBox[{"btcData", "//", "Normal"}], ",", 
         RowBox[{"-", "n"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"mon", "=", " ", 
       RowBox[{"Take", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"MovingAverage", "[", 
           RowBox[{"btcData", ",", "n"}], "]"}], "//", "Normal"}], ",", 
         RowBox[{"-", "n"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"mon", "=", " ", 
         RowBox[{
          RowBox[{"MovingAverage", "[", 
           RowBox[{"btcData", ",", "n"}], "]"}], "//", "Normal"}]}], ";"}], 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"mean", "=", 
       RowBox[{"Mean", "[", 
        RowBox[{"Last", " ", "/@", "btcn"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"meann", "=", 
       RowBox[{"NumberForm", "[", 
        RowBox[{
         RowBox[{"Mean", "[", 
          RowBox[{"Last", " ", "/@", "btcn"}], "]"}], ",", 
         RowBox[{"DigitBlock", "->", "3"}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"plotlabel", " ", "=", " ", 
       RowBox[{"Column", "[", 
        RowBox[{
         RowBox[{"{", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Style", "[", 
            RowBox[{"\"\<Bitcoin Price (USD)\>\"", " ", ",", "titlestyle"}], 
            "]"}], "\[IndentingNewLine]", ",", 
           RowBox[{"Style", "[", 
            RowBox[{
             RowBox[{"\"\<Latest: $\>\"", "  ", "<>", " ", 
              RowBox[{"ToString", "[", 
               RowBox[{"NumberForm", "[", 
                RowBox[{
                 RowBox[{"btcData", "[", "\"\<LastValue\>\"", "]"}], ",", 
                 RowBox[{"DigitBlock", "->", "3"}]}], "]"}], "]"}]}], " ", ",",
              "subtitlestyle"}], "]"}], "\[IndentingNewLine]", ",", 
           RowBox[{"Style", "[", 
            RowBox[{
             RowBox[{"\"\<Current \>\"", " ", "<>", " ", 
              RowBox[{"ToString", "[", "n", "]"}], 
              "<>", "\"\< Day Moving Average: \>\"", "<>", 
              RowBox[{"dollar", "[", "meann", "]"}]}], ",", "subtitlestyle"}],
             "]"}]}], "\[IndentingNewLine]", "}"}], "\[IndentingNewLine]", ",",
          "Center"}], "\[IndentingNewLine]", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Column", "[", 
       RowBox[{"{", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"DateListPlot", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"btcn", ",", " ", "mon"}], "}"}], "\[IndentingNewLine]", ",", 
           RowBox[{"PlotLabel", "->", "plotlabel"}], "\[IndentingNewLine]", ",", 
           RowBox[{"PlotLegends", "->", 
            RowBox[{"{", "\[IndentingNewLine]", 
             RowBox[{"\"\<Price\>\"", "\[IndentingNewLine]", ",", 
              RowBox[{
               RowBox[{"ToString", "[", "n", "]"}], " ", "<>", 
               " ", "\"\< Day Moving Average\>\""}]}], "\[IndentingNewLine]", 
             "}"}]}], "\[IndentingNewLine]", ",", 
           RowBox[{"PlotRange", "->", "Full"}], "\[IndentingNewLine]", ",", 
           RowBox[{"ImageSize", "->", "1000"}], "\[IndentingNewLine]", ",", 
           RowBox[{"GridLines", "->", 
            RowBox[{"{", "\[IndentingNewLine]", 
             RowBox[{"Automatic", "\[IndentingNewLine]", ",", 
              RowBox[{"Join", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"{", 
                  RowBox[{"mean", ",", 
                   RowBox[{"Directive", "[", 
                    RowBox[{"{", 
                    RowBox[{"Red", ",", "Thick", ",", " ", "Dashed"}], "}"}], 
                    "]"}]}], "}"}], "}"}], ",", 
                RowBox[{"Range", "[", 
                 RowBox[{"0", ",", "200000", ",", "5000"}], "]"}]}], "]"}]}], 
             "\[IndentingNewLine]", "}"}]}], "\[IndentingNewLine]", ",", 
           RowBox[{"FrameTicks", "->", "All"}]}], "\[IndentingNewLine]", 
          "]"}], "\[IndentingNewLine]", ",", 
         RowBox[{"Spacer", "[", "20", "]"}], "\[IndentingNewLine]", ",", 
         RowBox[{"DateListPlot", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                RowBox[{"First", "[", "#", "]"}], "//", "First"}], ",", 
               RowBox[{"N", "[", 
                FractionBox[
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"First", "[", "#", "]"}], "//", "Last"}], ")"}], "-", 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Last", "[", "#", "]"}], "//", "Last"}], ")"}]}], 
                 
                 RowBox[{
                  RowBox[{"First", "[", "#", "]"}], "//", "Last"}]], "]"}]}], 
              "}"}], "&"}], "/@", " ", 
            RowBox[{"MapThread", "[", 
             RowBox[{"List", ",", 
              RowBox[{"{", 
               RowBox[{"btcn", ",", "mon"}], "}"}]}], "]"}]}], 
           "\[IndentingNewLine]", ",", 
           RowBox[{"PlotLabel", "->", 
            RowBox[{"Style", "[", 
             
             RowBox[{"\"\<Relative above/below the moving average\>\"", ",", 
              "titlestyle"}], "]"}]}], "\[IndentingNewLine]", ",", 
           RowBox[{"ImageSize", "->", "1000"}], "\[IndentingNewLine]", ",", 
           RowBox[{"GridLines", "->", 
            RowBox[{"{", 
             RowBox[{"Automatic", ",", " ", 
              RowBox[{"Join", "[", 
               RowBox[{
                RowBox[{"Range", "[", 
                 RowBox[{
                  RowBox[{"-", "10"}], ",", "10", ",", "0.05"}], "]"}], ",", 
                RowBox[{"{", 
                 RowBox[{"{", 
                  RowBox[{"0", ",", "Thick"}], "}"}], "}"}]}], "]"}]}], 
             "}"}]}], "\[IndentingNewLine]", ",", 
           RowBox[{"FrameTicks", "->", "All"}]}], "\[IndentingNewLine]", 
          "]"}]}], "\[IndentingNewLine]", "}"}], "]"}]}]}], 
    "\[IndentingNewLine]", "]"}], "\[IndentingNewLine]", ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"n", ",", "200", ",", 
       RowBox[{"Style", "[", 
        RowBox[{"\"\<Moving Average\>\"", ",", "16"}], "]"}]}], "}"}], ",", 
     RowBox[{
      RowBox[{"Join", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"100", "->", " ", "\"\<100 days\>\""}], ",", 
          RowBox[{"200", " ", "->", " ", "\"\<200 days\>\""}], ",", 
          RowBox[{"500", "->", " ", "\"\<500 days\>\""}]}], "}"}], ",", 
        RowBox[{"MapIndexed", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"#1", " ", "->", " ", 
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"First", "[", "#2", "]"}], "]"}], " ", "<>", 
             " ", "\"\< yr\>\""}]}], "&"}], ",", 
          RowBox[{"Range", "[", 
           RowBox[{"365", ",", 
            RowBox[{"365", " ", "*", " ", "6"}], ",", "365"}], "]"}]}], 
         "]"}]}], "]"}], "//", "Sort"}]}], "}"}]}], "\[IndentingNewLine]", 
  "]"}]], "Input",
 CellOpen->False,
 CellChangeTimes->{{3.931778847021064*^9, 3.9317789179146833`*^9}, {
   3.931778955221694*^9, 3.931779031553317*^9}, {3.931779130967485*^9, 
   3.931779231945709*^9}, {3.931779478412808*^9, 3.931779576580185*^9}, {
   3.931780079753195*^9, 3.931780243832143*^9}, {3.931780298296356*^9, 
   3.93178031995195*^9}, {3.931780409546237*^9, 3.93178056319989*^9}, {
   3.931780596553117*^9, 3.931780597900181*^9}, {3.931780686670824*^9, 
   3.931780716184067*^9}, {3.9317807562388268`*^9, 3.931780781912668*^9}, {
   3.931781391361537*^9, 3.931781463136104*^9}, {3.931781592417137*^9, 
   3.931781594518848*^9}, {3.9317816550741158`*^9, 3.93178165603586*^9}, {
   3.9317816890030527`*^9, 3.931781690155242*^9}, {3.931781937332431*^9, 
   3.931781996296576*^9}, {3.931782037757682*^9, 3.931782049214764*^9}, {
   3.931898427440661*^9, 3.931898443801206*^9}, 3.931898620343934*^9, 
   3.931898651840127*^9, {3.931898715058672*^9, 3.931898718296762*^9}, {
   3.932587800958024*^9, 3.932587803154348*^9}, {3.93291840247709*^9, 
   3.9329184284242897`*^9}, {3.932918484645184*^9, 3.932918488571426*^9}, {
   3.932918545137916*^9, 3.932918550910448*^9}, 3.9329189637059183`*^9, 
   3.932919092520793*^9, {3.932919697541628*^9, 3.932919755217108*^9}, {
   3.932919823022087*^9, 3.932919843789604*^9}, {3.934480111117696*^9, 
   3.934480183380362*^9}, {3.9344802268905582`*^9, 3.9344802457296352`*^9}, {
   3.934480425588777*^9, 3.934480515297563*^9}, {3.93497111829*^9, 
   3.9349712496212893`*^9}, {3.94683337298873*^9, 3.946833444954999*^9}, {
   3.948987944705619*^9, 3.9489879530443707`*^9}, {3.950735328444635*^9, 
   3.9507353350616913`*^9}, {3.9507355472942963`*^9, 3.950735564354507*^9}, {
   3.951083580589435*^9, 3.951083636473559*^9}, {3.95108380116348*^9, 
   3.951083864368375*^9}, {3.951083900179134*^9, 3.951083913018723*^9}, 
   3.951083956315279*^9, {3.95108609786479*^9, 3.951086106844447*^9}, 
   3.9513958307067966`*^9, {3.95139591316286*^9, 3.951395915176148*^9}, {
   3.951395952249949*^9, 3.951395980958734*^9}, {3.951396022029833*^9, 
   3.9513960356542263`*^9}, {3.951403395481434*^9, 3.951403435117565*^9}},
 CellLabel->
  "In[262]:=",ExpressionUUID->"cf261ae5-a1d3-465a-9c65-0206705e1cc5"],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`n$$ = 2190, Typeset`show$$ = True, 
    Typeset`bookmarkList$$ = {}, Typeset`bookmarkMode$$ = "Menu", 
    Typeset`animator$$, Typeset`animvar$$ = 1, Typeset`name$$ = 
    "\"untitled\"", Typeset`specs$$ = {{{
       Hold[$CellContext`n$$], 200, 
       Style["Moving Average", 16]}, {
      100 -> "100 days", 200 -> "200 days", 365 -> "1 yr", 500 -> "500 days", 
       730 -> "2 yr", 1095 -> "3 yr", 1460 -> "4 yr", 1825 -> "5 yr", 2190 -> 
       "6 yr"}, ControlType -> PopupMenu}}, Typeset`size$$ = {
    1194.9197265625, {661.218104787524, 666.950038381274}}, Typeset`update$$ =
     0, Typeset`initDone$$, Typeset`skipInitDone$$ = True, 
    Typeset`keyframeActionsQ$$ = False, Typeset`keyframeList$$ = {}}, 
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, "Variables" :> {$CellContext`n$$ = 200}, 
      "ControllerVariables" :> {}, 
      "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$, Typeset`keyframeActionsQ$$, 
        Typeset`keyframeList$$}, "Body" :> 
      Module[{$CellContext`btcn$, $CellContext`mon$, $CellContext`meann$, \
$CellContext`mean$}, $CellContext`btcn$ = Take[
           
           Normal[$CellContext`btcData], -$CellContext`n$$]; \
$CellContext`mon$ = Take[
           Normal[
            
            MovingAverage[$CellContext`btcData, $CellContext`n$$]], \
-$CellContext`n$$]; $CellContext`mean$ = Mean[
           Map[Last, $CellContext`btcn$]]; $CellContext`meann$ = NumberForm[
           Mean[
            Map[Last, $CellContext`btcn$]], DigitBlock -> 
           3]; $CellContext`plotlabel = Column[{
            Style["Bitcoin Price (USD)", $CellContext`titlestyle], 
            Style["Latest: $" <> ToString[
               NumberForm[
                $CellContext`btcData["LastValue"], DigitBlock -> 
                3]], $CellContext`subtitlestyle], 
            Style[
            "Current " <> ToString[$CellContext`n$$] <> 
             " Day Moving Average: " <> \
$CellContext`dollar[$CellContext`meann$], $CellContext`subtitlestyle]}, 
           Center]; Column[{
           
           DateListPlot[{$CellContext`btcn$, $CellContext`mon$}, 
            PlotLabel -> $CellContext`plotlabel, 
            PlotLegends -> {
             "Price", ToString[$CellContext`n$$] <> " Day Moving Average"}, 
            PlotRange -> Full, ImageSize -> 1000, GridLines -> {Automatic, 
              Join[{{$CellContext`mean$, 
                 Directive[{Red, Thick, Dashed}]}}, 
               Range[0, 200000, 5000]]}, FrameTicks -> All], 
           Spacer[20], 
           DateListPlot[
            Map[{
              First[
               First[#]], 
              N[(Last[
                  First[#]] - Last[
                 Last[#]])/Last[
                First[#]]]}& , 
             MapThread[List, {$CellContext`btcn$, $CellContext`mon$}]], 
            PlotLabel -> 
            Style["Relative above/below the moving average", \
$CellContext`titlestyle], ImageSize -> 1000, GridLines -> {Automatic, 
              Join[
               Range[-10, 10, 0.05], {{0, Thick}}]}, FrameTicks -> All]}]], 
      "Specifications" :> {{{$CellContext`n$$, 200, 
          Style["Moving Average", 16]}, {
         100 -> "100 days", 200 -> "200 days", 365 -> "1 yr", 500 -> 
          "500 days", 730 -> "2 yr", 1095 -> "3 yr", 1460 -> "4 yr", 1825 -> 
          "5 yr", 2190 -> "6 yr"}}}, "Options" :> {}, "DefaultOptions" :> {}],
     
     ImageSizeCache->{1244.0197265625, {708.9576219994381, 714.6895555931881}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Manipulate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellChangeTimes->{{3.9317788631931553`*^9, 3.931778885781557*^9}, 
   3.931778919278822*^9, 3.931779033278701*^9, 3.931779233318129*^9, {
   3.931779484888459*^9, 3.931779536438675*^9}, {3.931779566817243*^9, 
   3.931779577727306*^9}, 3.931780246899756*^9, 3.931780321427747*^9, 
   3.931780494552911*^9, {3.931780529982463*^9, 3.931780543459834*^9}, 
   3.9317806102440434`*^9, 3.931780719670456*^9, 3.931780783423821*^9, 
   3.9317814644731092`*^9, 3.931781597733602*^9, 3.93178165727142*^9, 
   3.931781691548636*^9, 3.931781946277508*^9, 3.931782000974453*^9, {
   3.931782041674452*^9, 3.931782050422098*^9}, 3.931853151823831*^9, 
   3.9318738810859537`*^9, 3.931898248650035*^9, 3.93189845213019*^9, {
   3.931898624642866*^9, 3.931898653982525*^9}, 3.931898720575314*^9, 
   3.932032209129281*^9, 3.932054152784935*^9, 3.9323047092952642`*^9, 
   3.932587701065214*^9, 3.932587823323606*^9, 3.9325890114111757`*^9, 
   3.9327620589094143`*^9, 3.932822964094331*^9, 3.93282819220682*^9, 
   3.93282960669837*^9, 3.93282995868369*^9, 3.932837803008381*^9, 
   3.932838308393647*^9, 3.932838386560273*^9, 3.932839256560525*^9, 
   3.932840107931941*^9, 3.9328419698626013`*^9, 3.932918104850646*^9, 
   3.932918215340316*^9, 3.932918495146393*^9, 3.932918965732018*^9, 
   3.932919094799244*^9, 3.932919228890853*^9, 3.932919700146521*^9, 
   3.9329197558794823`*^9, {3.932919833513669*^9, 3.932919851839305*^9}, 
   3.933613202001608*^9, 3.933690921281888*^9, 3.934472710603424*^9, 
   3.934478547903799*^9, {3.934480155189883*^9, 3.934480184832818*^9}, 
   3.934480247754532*^9, 3.9344804319022913`*^9, {3.934480502180312*^9, 
   3.9344805166738577`*^9}, 3.934639179099512*^9, 3.934663111340139*^9, 
   3.934754435250586*^9, 3.934970826264934*^9, {3.934971140650354*^9, 
   3.9349712510897703`*^9}, 3.935338382030882*^9, 3.935771366437958*^9, 
   3.936038494837344*^9, 3.936351617057568*^9, 3.936381795277688*^9, 
   3.937429136074526*^9, 3.938271155882599*^9, 3.938271554226314*^9, 
   3.938278081468993*^9, 3.939056591281988*^9, 3.940852650279469*^9, 
   3.941750061131523*^9, {3.9419808528012238`*^9, 3.941980873311792*^9}, 
   3.9419813318591957`*^9, 3.9420088332243156`*^9, 3.9435679548385897`*^9, 
   3.943806778314457*^9, 3.944668374340047*^9, 3.9450759829200583`*^9, 
   3.945211997811957*^9, 3.945684430621811*^9, 3.945794905196978*^9, 
   3.9459720960873137`*^9, 3.946298828546937*^9, 3.9463043226556*^9, {
   3.9468248932337437`*^9, 3.946824916557249*^9}, 3.946833418241694*^9, 
   3.946833455466036*^9, 3.94683354188098*^9, 3.947282446695382*^9, 
   3.947974760710359*^9, 3.948406392718967*^9, {3.948407193625224*^9, 
   3.948407245615526*^9}, 3.948987811835898*^9, 3.948987961620865*^9, 
   3.948988002823346*^9, {3.949060289208748*^9, 3.949060302308013*^9}, 
   3.9490603330112047`*^9, 3.949060378552278*^9, 3.9490605114049883`*^9, 
   3.94906054554495*^9, 3.9490655100689373`*^9, 3.949506968473233*^9, 
   3.950370680175764*^9, 3.950370934096406*^9, 3.95071638029405*^9, 
   3.950716614058754*^9, 3.950717836890164*^9, 3.950717867833746*^9, 
   3.950717921535153*^9, 3.9507181656367702`*^9, {3.950718253684569*^9, 
   3.950718298144099*^9}, 3.950718605888731*^9, 3.950718840997148*^9, 
   3.950718898368678*^9, 3.9507190560290117`*^9, 3.950719125803336*^9, 
   3.950734958067363*^9, 3.950735385438648*^9, 3.950735633603533*^9, 
   3.951067330474037*^9, 3.9510677502628727`*^9, 3.9510819669011707`*^9, 
   3.951082181024701*^9, 3.9510831028401947`*^9, 3.9510832262100267`*^9, 
   3.951083415595501*^9, 3.951083540050123*^9, 3.951083647145731*^9, {
   3.9510837195216007`*^9, 3.951083726926599*^9}, 3.95108387182382*^9, 
   3.9510839155642757`*^9, 3.951084937551551*^9, 3.9510850541657667`*^9, 
   3.951085802663864*^9, 3.9510859226656427`*^9, 3.951086055322185*^9, 
   3.951086109779336*^9, 3.951395619154195*^9, 3.9513957459031076`*^9, 
   3.9513958628402443`*^9, 3.951395923971908*^9, 3.9513959828806458`*^9, 
   3.951396036708604*^9, 3.951396310848732*^9, 3.951396358019968*^9, 
   3.951402214776703*^9, {3.951403418495923*^9, 3.951403436643682*^9}},
 CellLabel->
  "Out[262]=",ExpressionUUID->"947b6613-73e0-4439-9fd2-48cfbb24dff2"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1234, 1257},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
FrontEndVersion->"14.2 for Mac OS X ARM (64-bit) (December 26, 2024)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"c4d59863-72bc-4e6e-9ba2-6774c3e58737"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[576, 22, 786, 11, 96, "Title",ExpressionUUID->"f5fa712f-8f02-48db-ad7d-991505d584c6"],
Cell[CellGroupData[{
Cell[1387, 37, 2470, 65, 19, "Input",ExpressionUUID->"9a9e9e9d-ec59-4e5e-9d58-ff1c581459b9",
 CellOpen->False],
Cell[3860, 104, 1465, 24, 42, "Output",ExpressionUUID->"9ee26528-6b90-4a2a-bd42-b5b8a3c81ae4"]
}, Open  ]],
Cell[5340, 131, 12487, 277, 19, "Input",ExpressionUUID->"22d7def2-8ef0-471c-a798-9bc673ed95b7",
 CellOpen->False],
Cell[CellGroupData[{
Cell[17852, 412, 7771, 137, 19, "Input",ExpressionUUID->"02b4a66c-d52d-466d-99b8-567eb1e34c19",
 CellOpen->False],
Cell[25626, 551, 3439, 68, 723, "Output",ExpressionUUID->"aa4b2aac-497e-4141-835c-8085b610bba9"]
}, Open  ]],
Cell[29080, 622, 163, 4, 19, "Input",ExpressionUUID->"60f0faab-c40c-4a3e-a5f7-c80d919e4679",
 CellOpen->False],
Cell[CellGroupData[{
Cell[29268, 630, 268, 4, 66, "Section",ExpressionUUID->"4de07029-d8b0-40fb-ac97-1a91d36f1eb6"],
Cell[CellGroupData[{
Cell[29561, 638, 9711, 205, 19, "Input",ExpressionUUID->"cf261ae5-a1d3-465a-9c65-0206705e1cc5",
 CellOpen->False],
Cell[39275, 845, 8318, 146, 1440, "Output",ExpressionUUID->"947b6613-73e0-4439-9fd2-48cfbb24dff2"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

